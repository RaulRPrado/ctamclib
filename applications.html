
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>simtools Applications &#8212; simtools v0.1.dev1+g78d7c14 Manual</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=384b581d" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="_static/documentation_options.js?v=70d2682c"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'applications';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API" href="library.html" />
    <link rel="prev" title="Configuration" href="simtools-configuration.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>


  <div class="bd-header-announcement container-fluid bd-header-announcement">
    <div class="bd-header-announcement__content">simtools is under rapid development with continuous changes. Please contact the developers before using it.</div>
  </div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">simtools v0.1.dev1+g78d7c14 Manual</p>
  
</a></div>
        <div class="sidebar-primary-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/gammasim/simtools" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/gammasimtools/" title="PyPI" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="https://badge.fury.io/py/gammasimtools.svg" class="icon-link-image" alt="PyPI"/></a>
        </li>
</ul></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="index.html">
                    simtools
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="simtools-configuration.html">Configuration</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">simtools Applications</a></li>

<li class="toctree-l1 has-children"><a class="reference internal" href="library.html">API</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="camera_efficiency.html">Camera Efficiency</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration_module.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="corsika.html">CORSIKA</a></li>
<li class="toctree-l2"><a class="reference internal" href="corsika_simtel.html">CORSIKA and sim_telarray</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_model.html">Data Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="db_handler.html">Database support</a></li>
<li class="toctree-l2"><a class="reference internal" href="io_operations.html">I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="job_execution.html">Job execution and submission</a></li>
<li class="toctree-l2"><a class="reference internal" href="array_layout.html">Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="mc_model.html">MC Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="psf_analysis.html">PSF Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="ray_tracing.html">Ray Tracing</a></li>
<li class="toctree-l2"><a class="reference internal" href="sim_telarray.html">sim_telarray</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulators.html">Simulator</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualization.html">Visualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="auxiliary_files.html">Auxiliary Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="databases.html">Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="simulation_software.html">Simulation Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker_files.html">Containers (docker files)</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_guidelines.html">Developer Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="pull_requests.html">Pull requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="coding_guidelines.html">Coding Guidelines</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/gammasim/simtools/blob/main/docs/applications.rst?plain=1" target="_blank"
   class="btn btn-sm btn-source-file-button dropdown-item"
   title="Show source"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-code"></i>
  </span>
<span class="btn__text-container">Show source</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/gammasim/simtools/issues/new?title=Issue%20on%20page%20%2Fapplications.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/applications.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>simtools Applications</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">simtools Applications</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#list-of-applications">List of applications</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-add_file_to_db">add_file_to_db</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#command-line-arguments">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-add_value_from_json_to_db">add_value_from_json_to_db</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-calculate_trigger_rate">calculate_trigger_rate</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-compare_cumulative_psf">compare_cumulative_psf</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">Example</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#compare_cumulative_psf.load_data"><code class="docutils literal notranslate"><span class="pre">load_data()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-convert_all_model_parameters_from_simtel">convert_all_model_parameters_from_simtel</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">Example</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#convert_all_model_parameters_from_simtel.get_list_of_parameters_and_schema_files"><code class="docutils literal notranslate"><span class="pre">get_list_of_parameters_and_schema_files()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#convert_all_model_parameters_from_simtel.get_list_of_simtel_parameters"><code class="docutils literal notranslate"><span class="pre">get_list_of_simtel_parameters()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#convert_all_model_parameters_from_simtel.get_number_of_camera_pixel"><code class="docutils literal notranslate"><span class="pre">get_number_of_camera_pixel()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#convert_all_model_parameters_from_simtel.print_list_of_files"><code class="docutils literal notranslate"><span class="pre">print_list_of_files()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#convert_all_model_parameters_from_simtel.print_parameters_not_found"><code class="docutils literal notranslate"><span class="pre">print_parameters_not_found()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#convert_all_model_parameters_from_simtel.read_and_export_parameters"><code class="docutils literal notranslate"><span class="pre">read_and_export_parameters()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#convert_all_model_parameters_from_simtel.read_simtel_config_file"><code class="docutils literal notranslate"><span class="pre">read_simtel_config_file()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-convert_model_parameter_from_simtel">convert_model_parameter_from_simtel</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-derive_mirror_rnda">derive_mirror_rnda</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#description">Description</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-generate_corsika_histograms">generate_corsika_histograms</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id20">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id21">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-generate_default_metadata">generate_default_metadata</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id22">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id23">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id24">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-generate_simtel_array_histograms">generate_simtel_array_histograms</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id25">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id26">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#raises">Raises</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id27">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-get_file_from_db">get_file_from_db</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id28">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id29">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id30">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-get_parameter">get_parameter</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id31">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id32">Raises</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id33">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-light_emission">light_emission</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id34">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-usage">Example Usage</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id35">Command Line Arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id36">Example</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#light_emission.default_le_configs"><code class="docutils literal notranslate"><span class="pre">default_le_configs()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-make_regular_arrays">make_regular_arrays</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id37">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id38">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id39">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-plot_array_layout">plot_array_layout</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id40">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id41">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id42">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-print_array_elements">print_array_elements</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id43">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id44">Description</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id45">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id46">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-produce_array_config">produce_array_config</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id47">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id48">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id49">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-sim_showers_for_trigger_rates">sim_showers_for_trigger_rates</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id50">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id51">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id52">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-simulate_prod">simulate_prod</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id53">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id54">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id55">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-submit_data_from_external">submit_data_from_external</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id56">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id57">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id58">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-tune_psf">tune_psf</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id59">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id60">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id61">Example</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tune_psf.load_data"><code class="docutils literal notranslate"><span class="pre">load_data()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-validate_camera_efficiency">validate_camera_efficiency</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id62">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id63">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id64">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-validate_camera_fov">validate_camera_fov</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id65">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id66">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id67">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-validate_file_using_schema">validate_file_using_schema</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id68">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id69">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id70">Raises</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id71">Example</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#validate_file_using_schema.validate_data_file"><code class="docutils literal notranslate"><span class="pre">validate_data_file()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#validate_file_using_schema.validate_metadata"><code class="docutils literal notranslate"><span class="pre">validate_metadata()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#validate_file_using_schema.validate_schema"><code class="docutils literal notranslate"><span class="pre">validate_schema()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-validate_optics">validate_optics</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id72">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id73">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id74">Example</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="simtools-applications">
<span id="applications"></span><h1>simtools Applications<a class="headerlink" href="#simtools-applications" title="Link to this heading">#</a></h1>
<p>Applications are python scripts built on the <a class="reference internal" href="library.html#library"><span class="std std-ref">API</span></a> that execute a well defined task.
Application scripts can be found in <code class="docutils literal notranslate"><span class="pre">simtools/applications</span></code>.
They are the the building blocks of <a class="reference external" href="https://github.com/gammasim/workflows">Simulation System Workflows</a>.</p>
<p>Important: depending on the installation type, applications are named differently:</p>
<ul class="simple">
<li><p>developers (see <a class="reference internal" href="getting_started.html#installationfordevelopers"><span class="std std-ref">Installation for Developers</span></a>) call applications as described throughout this documentation: <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">applications/&lt;application</span> <span class="pre">name&gt;</span> <span class="pre">....</span></code></p></li>
<li><p>users (see <a class="reference internal" href="getting_started.html#installationforusers"><span class="std std-ref">Installation for Users</span></a>) call applications directly as command line tool. Applications names <code class="docutils literal notranslate"><span class="pre">simtools-&lt;application</span> <span class="pre">name</span></code> (with all <code class="docutils literal notranslate"><span class="pre">_</span></code> replaced by <code class="docutils literal notranslate"><span class="pre">-</span></code>)</p></li>
</ul>
<p>Each application is configured as described in <a class="reference internal" href="simtools-configuration.html#configuration"><span class="std std-ref">Configuration</span></a>.
The available arguments can be access by calling the <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">applications/&lt;application</span> <span class="pre">name&gt;</span> <span class="pre">--help</span></code>.</p>
<p>Some applications require one or multiple file names as input in the command line. The system will
first search on main simtools directory for these files, and in case it is not found, it will
search into the directories given by the config parameter <em>model_path</em>.</p>
<p>Output files of applications are written to <code class="docutils literal notranslate"><span class="pre">$output_path/$label</span></code>, where
<em>output_path</em> is a config parameter and <em>label</em> is the name of the application. The plots
produced directly by the application are stored in the sub-directory <em>application-plots</em>.
High-level data produced intermediately (e.g PSF tables) can be found in the sub-directories relative to
the specific type of application (e.g <em>ray-tracing</em> for optics related applications,
<em>camera-efficiency</em> for camera efficiency applications etc). All files related to the simulation model (e.g,
sim_telarray config files) are stored in the sub-directory <em>model</em>.</p>
<p>Applications found in the <em>simtools/application/db_development_tools</em> directory are not intended for
end-users, but for developers working on the database schema.</p>
</section>
<section id="list-of-applications">
<h1>List of applications<a class="headerlink" href="#list-of-applications" title="Link to this heading">#</a></h1>
<section id="module-add_file_to_db">
<span id="add-file-to-db"></span><h2>add_file_to_db<a class="headerlink" href="#module-add_file_to_db" title="Link to this heading">#</a></h2>
<section id="summary">
<h3>Summary<a class="headerlink" href="#summary" title="Link to this heading">#</a></h3>
<p>This application adds a file to a DB.</p>
<p>The name and location of the file are required.
This application should complement the ones for updating parameters,     adding entries to the DB and getting files from the DB.</p>
</section>
<section id="command-line-arguments">
<h3>Command line arguments<a class="headerlink" href="#command-line-arguments" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>file_name (str or list of str, required)</dt><dd><p>Name of the file to upload including the full path.         A list of files is also allowed, in which case only one -file_name is necessary,         i.e., python applications/add_file_to_db.py -file_name file_1.dat file_2.dat file_3.dat         If no path is given, the file is assumed to be in the CWD.</p>
</dd>
<dt>input_path (str, required if file_name is not given)</dt><dd><p>A directory with files to upload to the DB.         All files in the directory with a predefined list of extensions will be uploaded.</p>
</dd>
<dt>db (str)</dt><dd><p>The DB to insert the files to.         The choices are either the default CTA simulation DB or a sandbox for testing.</p>
</dd>
<dt>verbosity (str, optional)</dt><dd><p>Log level to print.</p>
</dd>
</dl>
</section>
<section id="example">
<h3>Example<a class="headerlink" href="#example" title="Link to this heading">#</a></h3>
<p>uploading a dummy file.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-add-file-to-db --file_name test_application.dat --db test-data</span>
</pre></div>
</div>
<p>Expected final print-out message:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">INFO::get_file_from_db(l75)::main::Got file test_application.dat from DB test-data and</span>
<span class="go">saved into .</span>
</pre></div>
</div>
</section>
</section>
<section id="module-add_value_from_json_to_db">
<span id="add-value-from-json-to-db"></span><h2>add_value_from_json_to_db<a class="headerlink" href="#module-add_value_from_json_to_db" title="Link to this heading">#</a></h2>
<section id="id1">
<h3>Summary<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<p>This application adds a new parameter / value to a collection in the DB using a json
file as input.</p>
</section>
<section id="id2">
<h3>Command line arguments<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>file_name (str, required)</dt><dd><p>Name of the file to upload including the full path.</p>
</dd>
<dt>db_collection (str, required)</dt><dd><p>The DB collection to which to add the file.</p>
</dd>
<dt>db (str)</dt><dd><p>The DB to insert the files to.         The choices are either the default CTA simulation DB or a sandbox for testing.</p>
</dd>
</dl>
</section>
<section id="id3">
<h3>Example<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<p>Upload a file to sites collection:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-add-value-from-json-to-db             --file_name new_value.json --db_collection sites</span>
</pre></div>
</div>
</section>
</section>
<section id="module-calculate_trigger_rate">
<span id="calculate-trigger-rate"></span><h2>calculate_trigger_rate<a class="headerlink" href="#module-calculate_trigger_rate" title="Link to this heading">#</a></h2>
<section id="id4">
<h3>Summary<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<p>This application calculates the trigger rate from a simtel_array output file, a list of
simtel_array output files ou from a file containing a list of simtel_array files.</p>
</section>
<section id="id5">
<h3>Command line arguments<a class="headerlink" href="#id5" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>simtel_file_names (str or list):</dt><dd><p>Path to the simtel_array file or a list of simtel_array output files.</p>
</dd>
<dt>save_tables (bool):</dt><dd><p>If true, save the tables with the energy-dependent trigger rate to a ecsv file.</p>
</dd>
<dt>area_from_distribution (bool):</dt><dd><p>If true, the area thrown (the area in which the simulated events are distributed)
in the trigger rate calculation is estimated based on the event distribution.
The expected shape of the distribution of events as function of the core distance is triangular
up to the maximum distance. The weighted mean radius of the triangular distribution is 2/3 times
the upper edge. Therefore, when using the <code class="docutils literal notranslate"><span class="pre">area_from_distribution</span></code> flag, the mean distance
times 3/2, returns just the position of the upper edge in the triangle distribution with little
impact of the binning and little dependence on the scatter area defined in the simulation.
This is special useful when calculating trigger rate for individual telescopes.
If false, the area thrown is estimated based on the maximum distance as given in
the simulation configuration.</p>
</dd>
</dl>
</section>
<section id="id6">
<h3>Example<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-calculate-trigger-rate --simtel_file_names tests/resources/</span>
<span class="go">run201_proton_za20deg_azm0deg_North_TestLayout_test-prod.simtel.zst</span>
</pre></div>
</div>
</section>
</section>
<section id="module-compare_cumulative_psf">
<span id="compare-cumulative-psf"></span><h2>compare_cumulative_psf<a class="headerlink" href="#module-compare_cumulative_psf" title="Link to this heading">#</a></h2>
<section id="id7">
<h3>Summary<a class="headerlink" href="#id7" title="Link to this heading">#</a></h3>
<p>This application simulates the cumulative PSF and compare with data (if available).</p>
<p>The telescope zenith angle and the source distance can be set by command line arguments.</p>
<p>The measured cumulative PSF should be provided by using the command line argument data.     A file name is expected, in which the file should contains 3 columns: radial distance in mm,     differential value of photon intensity and its integral value.</p>
<p>The MC model can be changed by providing a yaml file with the new parameter values using     the argument pars (see example below).</p>
<p>Examples of the plots generated by this applications are shown below. On the left,     the cumulative PSF and on the right, the simulated PSF image.</p>
<a class="reference internal image-reference" href="_images/compare_cumulative_psf_North-LST-1_cumulativePSF.png" id="compare-cumulative-psf-plot"><img alt="_images/compare_cumulative_psf_North-LST-1_cumulativePSF.png" id="compare-cumulative-psf-plot" src="_images/compare_cumulative_psf_North-LST-1_cumulativePSF.png" style="width: 49%;" />
</a>
<a class="reference internal image-reference" href="_images/compare_cumulative_psf_North-LST-1_image.png"><img alt="_images/compare_cumulative_psf_North-LST-1_image.png" src="_images/compare_cumulative_psf_North-LST-1_image.png" style="width: 49%;" />
</a>
</section>
<section id="id8">
<h3>Command line arguments<a class="headerlink" href="#id8" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>site (str, required)</dt><dd><p>North or South.</p>
</dd>
<dt>telescope (str, required)</dt><dd><p>Telescope model name (e.g. LST-1, SST-D, …).</p>
</dd>
<dt>model_version (str, optional)</dt><dd><p>Model version.</p>
</dd>
<dt>src_distance (float, optional)</dt><dd><p>Source distance in km.</p>
</dd>
<dt>zenith (float, optional)</dt><dd><p>Zenith angle in deg.</p>
</dd>
<dt>data (str, optional)</dt><dd><p>Name of the data file with the measured cumulative PSF.</p>
</dd>
<dt>pars (str, optional)</dt><dd><p>Yaml file with the new model parameters to replace the default ones.</p>
</dd>
<dt>test (activation mode, optional)</dt><dd><p>If activated, application will be faster by simulating fewer photons.</p>
</dd>
<dt>verbosity (str, optional)</dt><dd><p>Log level to print.</p>
</dd>
</dl>
</section>
<section id="id9">
<h3>Example<a class="headerlink" href="#id9" title="Link to this heading">#</a></h3>
<p>LST-1 Prod5</p>
<p>Runtime &lt; 1 min.</p>
<p>Get an example dataset from the DB:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-get-file-from-db --file_name PSFcurve_data_v2.txt</span>
</pre></div>
</div>
<p>Run the application:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-compare-cumulative-psf --site North --telescope LST-1             --model_version prod5 --data PSFcurve_data_v2.txt</span>
</pre></div>
</div>
<p>The output is saved in simtools-output/compare_cumulative_psf</p>
<p>Expected final print-out message:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">d80 in cm = 3.3662565358159013</span>
</pre></div>
</div>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="compare_cumulative_psf.load_data">
<span class="sig-prename descclassname"><span class="pre">compare_cumulative_psf.</span></span><span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datafile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/compare_cumulative_psf.html#load_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compare_cumulative_psf.load_data" title="Link to this definition">#</a></dt>
<dd><p>Load the data file with the measured PSF vs radius [cm].</p>
</dd></dl>

</section>
<section id="module-convert_all_model_parameters_from_simtel">
<span id="convert-all-model-parameters-from-simtel"></span><h2>convert_all_model_parameters_from_simtel<a class="headerlink" href="#module-convert_all_model_parameters_from_simtel" title="Link to this heading">#</a></h2>
<section id="id10">
<h3>Summary<a class="headerlink" href="#id10" title="Link to this heading">#</a></h3>
<p>Convert all simulation model parameters exported from sim_telarray format using
schema files. Check value, type, and range, convert units, and write json files
ready to be submitted to the model database. Prints out parameters which are not found
in simtel configuration file and parameters which are not found in simtools schema files.</p>
</section>
<section id="id11">
<h3>Command line arguments<a class="headerlink" href="#id11" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>simtel_cfg_file (str)</dt><dd><p>File name of sim_telarray configuration file containing all simulation model parameters.</p>
</dd>
<dt>simtel_telescope_name (str)</dt><dd><p>Name of the telescope in the sim_telarray configuration file.</p>
</dd>
<dt>telescope (str, optional)</dt><dd><p>Telescope model name (e.g. LST-1, SST-D, …)</p>
</dd>
</dl>
</section>
<section id="id12">
<h3>Example<a class="headerlink" href="#id12" title="Link to this heading">#</a></h3>
<p>Extract model parameters with schema files from simtel configuration file
(requires access to the model parameter repository)</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-convert-all-model-parameters-from-simtel           --schema_directory ../model_parameters/schema          --simtel_cfg_file all_telescope_config_la_palma.cfg          --simtel_telescope_name CT1          --telescope LSTN-01          --model_version &quot;2024-03-06&quot;</span>
</pre></div>
</div>
<p>The export of the model parameters from sim_telarray for prod6 can be done e.g., as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">./sim_telarray/bin/sim_telarray -c sim_telarray/cfg/CTA/CTA-PROD6-LaPalma.cfg             -C limits=no-internal -C initlist=no-internal -C list=no-internal             -C typelist=no-internal -C maximum_telescopes=30 -DNSB_AUTOSCALE             -DNECTARCAM -DHYPER_LAYOUT -DNUM_TELESCOPES=30 /dev/null             2&gt;|/dev/null | grep &#39;(@cfg)&#39;  &gt;| all_telescope_config_la_palma.cfg</span>

<span class="go">./sim_telarray/bin/sim_telarray -c sim_telarray/cfg/CTA/CTA-PROD6-Paranal.cfg             -C limits=no-internal -C initlist=no-internal -C list=no-internal             -C typelist=no-internal -C maximum_telescopes=87 -DNSB_AUTOSCALE             -DFLASHCAM -DHYPER_LAYOUT -DNUM_TELESCOPES=87 /dev/null             2&gt;|/dev/null | grep &#39;(@cfg)&#39;  &gt;| all_telescope_config_paranal.cfg</span>
</pre></div>
</div>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="convert_all_model_parameters_from_simtel.get_list_of_parameters_and_schema_files">
<span class="sig-prename descclassname"><span class="pre">convert_all_model_parameters_from_simtel.</span></span><span class="sig-name descname"><span class="pre">get_list_of_parameters_and_schema_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schema_directory</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convert_all_model_parameters_from_simtel.html#get_list_of_parameters_and_schema_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#convert_all_model_parameters_from_simtel.get_list_of_parameters_and_schema_files" title="Link to this definition">#</a></dt>
<dd><p>Return list of parameters and schema files located in schema file directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>schema_directory: str</strong></dt><dd><p>Directory with schema files for model parameter validation</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>list</dt><dd><p>List of parameters found in schema file directory.</p>
</dd>
<dt>list</dt><dd><p>List of schema files found in schema file directory.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="convert_all_model_parameters_from_simtel.get_list_of_simtel_parameters">
<span class="sig-prename descclassname"><span class="pre">convert_all_model_parameters_from_simtel.</span></span><span class="sig-name descname"><span class="pre">get_list_of_simtel_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">simtel_config_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convert_all_model_parameters_from_simtel.html#get_list_of_simtel_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#convert_all_model_parameters_from_simtel.get_list_of_simtel_parameters" title="Link to this definition">#</a></dt>
<dd><p>Return list of simtel parameters found in simtel configuration file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>simtel_config_file: str</strong></dt><dd><p>File name for sim_telarray configuration</p>
</dd>
<dt><strong>logger: logging.Logger</strong></dt><dd><p>Logger object</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>list</dt><dd><p>List of parameters found in simtel configuration file.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="convert_all_model_parameters_from_simtel.get_number_of_camera_pixel">
<span class="sig-prename descclassname"><span class="pre">convert_all_model_parameters_from_simtel.</span></span><span class="sig-name descname"><span class="pre">get_number_of_camera_pixel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convert_all_model_parameters_from_simtel.html#get_number_of_camera_pixel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#convert_all_model_parameters_from_simtel.get_number_of_camera_pixel" title="Link to this definition">#</a></dt>
<dd><p>Get the number of camera pixels from the simtel configuration file
Required to set the dimension some of the parameter correctly, as simtel
in some cases does not provide the dimension (‘all:’ in the parameter files)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>args_dict: dict</strong></dt><dd><p>Dictionary with command line arguments.</p>
</dd>
<dt><strong>logger: logging.Logger</strong></dt><dd><p>Logger object</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>int, None</dt><dd><p>Number of camera pixels (None if file is not found)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="convert_all_model_parameters_from_simtel.print_list_of_files">
<span class="sig-prename descclassname"><span class="pre">convert_all_model_parameters_from_simtel.</span></span><span class="sig-name descname"><span class="pre">print_list_of_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convert_all_model_parameters_from_simtel.html#print_list_of_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#convert_all_model_parameters_from_simtel.print_list_of_files" title="Link to this definition">#</a></dt>
<dd><p>Print model parameters which describe a file name.
This is useful to find files which are part of the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>args_dict: dict</strong></dt><dd><p>Dictionary with command line arguments.</p>
</dd>
<dt><strong>logger: logging.Logger</strong></dt><dd><p>Logger object</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="convert_all_model_parameters_from_simtel.print_parameters_not_found">
<span class="sig-prename descclassname"><span class="pre">convert_all_model_parameters_from_simtel.</span></span><span class="sig-name descname"><span class="pre">print_parameters_not_found</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_parameters_not_in_simtel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_simtel_parameters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convert_all_model_parameters_from_simtel.html#print_parameters_not_found"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#convert_all_model_parameters_from_simtel.print_parameters_not_found" title="Link to this definition">#</a></dt>
<dd><p>Print simtel parameters not found in schema files and simtools parameters not found in simtel
configuration file. For simtel parameters not found, check if the setting for the chose
telescope is different from the default values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>_parameters_not_in_simtel: list</strong></dt><dd><p>List of simtel parameters not found in schema files.</p>
</dd>
<dt><strong>_simtel_parameters: list</strong></dt><dd><p>List of simtel parameters not found in simtools schema files.</p>
</dd>
<dt><strong>args_dict: dict</strong></dt><dd><p>Dictionary with command line arguments.</p>
</dd>
<dt><strong>logger: logging.Logger</strong></dt><dd><p>Logger object</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="convert_all_model_parameters_from_simtel.read_and_export_parameters">
<span class="sig-prename descclassname"><span class="pre">convert_all_model_parameters_from_simtel.</span></span><span class="sig-name descname"><span class="pre">read_and_export_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convert_all_model_parameters_from_simtel.html#read_and_export_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#convert_all_model_parameters_from_simtel.read_and_export_parameters" title="Link to this definition">#</a></dt>
<dd><p>Read and export parameters from simtel configuration file to json files.
Only applicable parameters are exported to json.
Provide extensive logging information on the parameters found in the simtel
configuration file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>args_dict: dict</strong></dt><dd><p>Dictionary with command line arguments.</p>
</dd>
<dt><strong>logger: logging.Logger</strong></dt><dd><p>Logger object</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>list</dt><dd><p>List of simtel parameters not found in schema files.</p>
</dd>
<dt>list</dt><dd><p>List of simtools parameter not found in simtel configuration file.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="convert_all_model_parameters_from_simtel.read_simtel_config_file">
<span class="sig-prename descclassname"><span class="pre">convert_all_model_parameters_from_simtel.</span></span><span class="sig-name descname"><span class="pre">read_simtel_config_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera_pixels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convert_all_model_parameters_from_simtel.html#read_simtel_config_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#convert_all_model_parameters_from_simtel.read_simtel_config_file" title="Link to this definition">#</a></dt>
<dd><p>Reads the simtel configuration file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>args_dict: dict</strong></dt><dd><p>Dictionary with command line arguments.</p>
</dd>
<dt><strong>logger: logging.Logger</strong></dt><dd><p>Logger object</p>
</dd>
<dt><strong>schema_file: str</strong></dt><dd><p>Schema path name.</p>
</dd>
<dt><strong>camera_pixels: int</strong></dt><dd><p>Number of camera pixels.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-convert_model_parameter_from_simtel">
<span id="convert-model-parameter-from-simtel"></span><h2>convert_model_parameter_from_simtel<a class="headerlink" href="#module-convert_model_parameter_from_simtel" title="Link to this heading">#</a></h2>
<section id="id13">
<h3>Summary<a class="headerlink" href="#id13" title="Link to this heading">#</a></h3>
<p>Convert simulation model parameter from sim_telarray format using the corresponding
schema file. Check value, type, and range and write a json file
ready to be submitted to the model database.</p>
</section>
<section id="id14">
<h3>Command line arguments<a class="headerlink" href="#id14" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>parameter (str, required)</dt><dd><p>Parameter name (as used in simtools)</p>
</dd>
<dt>simtel_cfg_file (str)</dt><dd><p>File name of sim_telarray configuration file containing all simulation model parameters.</p>
</dd>
<dt>simtel_telescope_name (str)</dt><dd><p>Name of the telescope in the sim_telarray configuration file.</p>
</dd>
<dt>telescope (str, optional)</dt><dd><p>Telescope model name (e.g. LST-1, SST-D, …)</p>
</dd>
</dl>
</section>
<section id="id15">
<h3>Example<a class="headerlink" href="#id15" title="Link to this heading">#</a></h3>
<p>Extract the num_gains parameter from a sim_telarray configuration file for LSTN-01
and write a json file in the same format as the model parameter database:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-convert-model-parameter-from-simtel \</span>
<span class="go">   --simtel_telescope_name CT1 \</span>
<span class="go">   --telescope LSTN-01 \</span>
<span class="go">   --schema tests/resources/num_gains.schema.yml \</span>
<span class="go">   --simtel_cfg_file tests/resources/simtel_config_test_la_palma.cfg \</span>
<span class="go">   --output_file num_gains.json</span>
</pre></div>
</div>
</section>
</section>
<section id="module-derive_mirror_rnda">
<span id="derive-mirror-rnda"></span><h2>derive_mirror_rnda<a class="headerlink" href="#module-derive_mirror_rnda" title="Link to this heading">#</a></h2>
<section id="id16">
<h3>Summary<a class="headerlink" href="#id16" title="Link to this heading">#</a></h3>
<p>Derive the simulation model parameter <strong>mirror_reflection_random_angle</strong>
(sometimes called mirror roughness) to match the measured containment diameter
of the optical point-spread function (PSF) of individual mirror panels.</p>
</section>
<section id="description">
<h3>Description<a class="headerlink" href="#description" title="Link to this heading">#</a></h3>
<p>This application derives the value of the simulation model parameter
<em>mirror_reflection_random_angle</em> using measurements of the focal length
and PSF of individual mirror panels.</p>
<p>PSF measurements are provided by one of the following options:</p>
<blockquote>
<div><ul class="simple">
<li><p>mean and sigma value obtained from the measurement of containment diameters of a number of
mirror panels in cm (<code class="docutils literal notranslate"><span class="pre">--psf_measurement_containment_mean</span></code> and
<code class="docutils literal notranslate"><span class="pre">--psf_measurement_containment_sigma</span></code>)</p></li>
<li><p>file (table) with measured PSF for each mirror panel spot size (<code class="docutils literal notranslate"><span class="pre">--psf_measurement</span></code>)</p></li>
</ul>
</div></blockquote>
<p>The containment fraction used for the PSF diameter calculation is set through
the argument <code class="docutils literal notranslate"><span class="pre">--containment_fraction</span></code> (typically 0.8 = 80%).</p>
<p>Mirror panels are simulated individually, using one of the following options to set the
mirror panel focal length:</p>
<blockquote>
<div><ul class="simple">
<li><p>file (table) with measured focal lengths per mirror panel
(provided through <code class="docutils literal notranslate"><span class="pre">--mirror_list</span></code>)</p></li>
<li><p>randomly generated focal lengths using an expected spread (value given through
<code class="docutils literal notranslate"><span class="pre">--random_flen</span></code>) around the mean focal length (provided through the
<a class="reference internal" href="databases.html#model-parameters-db"><span class="std std-ref">Model Parameters DB</span></a>). This option is switched with <code class="docutils literal notranslate"><span class="pre">--use_random_flen</span></code>.</p></li>
</ul>
</div></blockquote>
<p>The tuning algorithm requires a starting value for the random reflection angle. This is either
taken from the <a class="reference internal" href="databases.html#model-parameters-db"><span class="std std-ref">Model Parameters DB</span></a> (default) or can be set using the argument <code class="docutils literal notranslate"><span class="pre">--rnda</span></code>.</p>
<p>Ray-tracing simulations are performed for single mirror configurations for each
mirror given in the mirror_list. The mean simulated containment diameter for all the mirrors
is compared with the mean measured containment diameter. The algorithm defines a new value for
the random reflection angle based on the sign of the difference between measured and simulated
containment diameters and a new set of simulations is performed. This process is repeated
until the sign of the difference changes, meaning that the two final values of the random
reflection angle brackets the optimal. These two values are used to find the optimal one by
a linear interpolation. Finally, simulations are performed by using the interpolated value,
which is defined as the desired optimal.</p>
<p>The option <code class="docutils literal notranslate"><span class="pre">--no_tuning</span></code> can be used if one only wants to simulate one value for the random
reflection angle and compare the results with the measured ones.</p>
<p>Results of the tuning are plotted. See examples of the PSF containment diameter
D80 vs random reflection angle plot, on the left, and the D80 distributions
(per mirror panel), on the right.</p>
<a class="reference internal image-reference" href="_images/derive_mirror_rnda_North-MST-FlashCam-D.png" id="derive-rnda-plot"><img alt="_images/derive_mirror_rnda_North-MST-FlashCam-D.png" id="derive-rnda-plot" src="_images/derive_mirror_rnda_North-MST-FlashCam-D.png" style="width: 49%;" />
</a>
<a class="reference internal image-reference" href="_images/derive_mirror_rnda_North-MST-FlashCam-D_D80-distributions.png"><img alt="_images/derive_mirror_rnda_North-MST-FlashCam-D_D80-distributions.png" src="_images/derive_mirror_rnda_North-MST-FlashCam-D_D80-distributions.png" style="width: 49%;" />
</a>
<p>This application uses the following <a class="reference internal" href="simulation_software.html#simulationsoftware"><span class="std std-ref">Simulation Software</span></a> tools:</p>
<blockquote>
<div><ul class="simple">
<li><p>sim_telarray/bin/sim_telarray</p></li>
<li><p>sim_telarray/bin/rx (optional)</p></li>
</ul>
</div></blockquote>
</section>
<section id="id17">
<h3>Command line arguments<a class="headerlink" href="#id17" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>telescope (str, required)</dt><dd><p>Telescope name (e.g. North-LST-1, South-SST-D, …)</p>
</dd>
<dt>model_version (str, optional)</dt><dd><p>Model version</p>
</dd>
<dt>psf_measurement (str, optional)</dt><dd><p>Table with results from PSF measurements for each mirror panel spot size</p>
</dd>
<dt>psf_measurement_containment_mean (float, required)</dt><dd><p>Mean of measured containment diameter [cm]</p>
</dd>
<dt>psf_measurement_containment_sigma (float, optional)</dt><dd><p>Std dev of measured containment diameter [cm]</p>
</dd>
<dt>containment_fraction (float, required)</dt><dd><p>Containment fraction for diameter calculation</p>
</dd>
<dt>rnda (float, optional)</dt><dd><p>Starting value of mirror_reflection_random_angle [deg]. If not given, the value from the
default model is read from the simulation model database.</p>
</dd>
<dt>mirror_list (file, optional)</dt><dd><p>Table with mirror ID and panel radius.</p>
</dd>
<dt>use_random_flen (activation mode, optional)</dt><dd><p>Use random focal lengths, instead of the measured ones. The argument random_flen can be
used to replace the default random_focal_length from the model.</p>
</dd>
<dt>random_flen (float, optional)</dt><dd><dl class="simple">
<dt>Value of the random focal lengths to replace the default random_focal_length. Only used if</dt><dd><p>use_random_flen is activated.</p>
</dd>
</dl>
</dd>
<dt>no_tuning (activation mode, optional)</dt><dd><p>Turn off the tuning - A single case will be simulated and plotted.</p>
</dd>
<dt>test (activation mode, optional)</dt><dd><p>If activated, application will be faster by simulating only few mirrors.</p>
</dd>
<dt>verbosity (str, optional)</dt><dd><p>Log level to print.</p>
</dd>
</dl>
</section>
<section id="id18">
<h3>Example<a class="headerlink" href="#id18" title="Link to this heading">#</a></h3>
<p>Derive mirror random reflection angle for a mid-sized telescope (MST),
simulation production Prod5.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-derive-mirror-rnda \</span>
<span class="go">    --site South \</span>
<span class="go">    --telescope MSTS-design \</span>
<span class="go">    --containment_fraction 0.8 \</span>
<span class="go">    --mirror_list MLTdata-preproduction.ecsv \</span>
<span class="go">    --psf_measurement MLTdata-preproduction.ecsv \</span>
<span class="go">    --rnda 0.0063 \</span>
<span class="go">    --test</span>
</pre></div>
</div>
<p>Runtime about 4 min.</p>
<p>The output is saved in <code class="docutils literal notranslate"><span class="pre">simtools-output/derive_mirror_rnda</span></code>.
Use the parameter <code class="docutils literal notranslate"><span class="pre">--output_path</span></code> to change the output directory.</p>
<p>Expected final print-out message:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Measured D80:</span>
<span class="go">Mean = 1.403 cm, StdDev = 0.163 cm</span>

<span class="go">Simulated D80:</span>
<span class="go">Mean = 1.404 cm, StdDev = 0.608 cm</span>

<span class="go">mirror_random_reflection_angle</span>
<span class="go">Previous value = 0.006300</span>
<span class="go">New value = 0.004975</span>
</pre></div>
</div>
</section>
</section>
<section id="module-generate_corsika_histograms">
<span id="generate-corsika-histograms"></span><h2>generate_corsika_histograms<a class="headerlink" href="#module-generate_corsika_histograms" title="Link to this heading">#</a></h2>
<section id="id19">
<h3>Summary<a class="headerlink" href="#id19" title="Link to this heading">#</a></h3>
<p>This application produces a set of histograms of the distribution of Cherenkov photons on the
ground (at observation level) read from the CORSIKA IACT output file provided as input.</p>
<p>The histograms can be saved both into pdfs and in a hdf5 file.</p>
<dl class="simple">
<dt>The following 2D histograms are produced:</dt><dd><ul class="simple">
<li><p>Number of Cherenkov photons on the ground;</p></li>
<li><p>Density of Cherenkov photons on the ground;</p></li>
<li><p>Incoming direction (directive cosines) of the Cherenkov photons;</p></li>
<li><p>Time of arrival (ns) vs altitude of production (km);</p></li>
<li><p>Number of Cherenkov photons per event per telescope.</p></li>
</ul>
</dd>
<dt>The following 1D histograms are produced:</dt><dd><ul class="simple">
<li><p>Wavelength;</p></li>
<li><p>Counts;</p></li>
<li><p>Density;</p></li>
<li><p>Time of arrival;</p></li>
<li><p>Altitude of production;</p></li>
<li><p>Number of photons per telescope;</p></li>
<li><p>Number of photons per event.</p></li>
</ul>
</dd>
</dl>
<p>Histograms for the distribution of CORSIKA event header elements can also be generated by using
the –event_1d_histograms and –event_2d_histograms arguments. The accepted arguments (keys)
are to be found in the CORSIKA manual, e.g., “total_energy”, “zenith”, “azimuth”.</p>
</section>
<section id="id20">
<h3>Command line arguments<a class="headerlink" href="#id20" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>iact_file (str, required)</dt><dd><p>The name of the CORSIKA IACT file resulted from the CORSIKA simulation.</p>
</dd>
<dt>telescope_indices (list, optional)</dt><dd><p>The list with the telescope indices to be considered in the generation of the histograms.
Telescopes that are not in the list will not contribute with photons to the histograms.
If the argument is not given, all telescopes are considered.</p>
</dd>
<dt>individual_telescopes (bool, optional)</dt><dd><p>Indicates whether single histograms are generated for the individual telescopes, or if
a master histogram is generated for all the telescopes together.
If the argument is not given, the Cherenkov photons from the given telescopes are considered
together in the same histograms.</p>
</dd>
<dt>hist_config (hdf5 or dict, optional)</dt><dd><p>The configuration used for generating the histograms.
It includes information about the bin sizes, the ranges, scale of the plot and units.
By construction, three major histograms are created to start with:
- hist_direction (2D): Directive cosines (x and y) for the incoming photons;
- hist_position (3D): position x, position y, and wavelength;
- hist_time_altitude (2D): time of arrival and altitude of emission;</p>
</dd>
</dl>
<p>If the argument is not given, the default configuration is generated:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">hist_direction:</span>
<span class="go">    x axis: {bins: 100, scale: linear, start: -1, stop: 1}</span>
<span class="go">    y axis: {bins: 100, scale: linear, start: -1, stop: 1}</span>

<span class="go">hist_position:</span>
<span class="go">    x axis:</span>
<span class="go">        bins: 100</span>
<span class="go">        scale: linear</span>
<span class="go">        start: !astropy.units.Quantity</span>
<span class="go">            unit: &amp;id001 m</span>
<span class="go">            value: -1000.0</span>
<span class="go">        stop: &amp;id002 !astropy.units.Quantity</span>
<span class="go">            unit: *id001</span>
<span class="go">            value: 1000.0</span>
<span class="go">    y axis:</span>
<span class="go">        bins: 100</span>
<span class="go">        scale: linear</span>
<span class="go">        start: !astropy.units.Quantity</span>
<span class="go">            unit: *id001</span>
<span class="go">            value: -1000.0</span>
<span class="go">        stop: *id002</span>
<span class="go">    z axis:</span>
<span class="go">        bins: 80</span>
<span class="go">        scale: linear</span>
<span class="go">        start: !astropy.units.Quantity</span>
<span class="go">            unit: nm</span>
<span class="go">            value: 200.0</span>
<span class="go">        stop: !astropy.units.Quantity</span>
<span class="go">            unit: *id003</span>
<span class="go">            value: 1000.0</span>
<span class="go">hist_time_altitude:</span>
<span class="go">    x axis:</span>
<span class="go">        bins: 100</span>
<span class="go">        scale: linear</span>
<span class="go">        start: !astropy.units.Quantity</span>
<span class="go">            unit: ns</span>
<span class="go">            value: -2000.0</span>
<span class="go">        stop: !astropy.units.Quantity</span>
<span class="go">            unit: *id004</span>
<span class="go">            value: 2000.0</span>
<span class="go">    y axis:</span>
<span class="go">        bins: 100</span>
<span class="go">        scale: linear</span>
<span class="go">        start: !astropy.units.Quantity</span>
<span class="go">            unit: km</span>
<span class="go">            value: 120.0</span>
<span class="go">        stop: !astropy.units.Quantity</span>
<span class="go">            unit: *id005</span>
<span class="go">            value: 0.0</span>
</pre></div>
</div>
<dl class="simple">
<dt>pdf (bool, optional)</dt><dd><p>If set, histograms are saved into pdf files.
One pdf file contains all the histograms for the Cherenkov photons.
The name of the file is controlled via hdf5_file_name.
If event_1d_histograms and event_2d_histograms are used, two separate pdf files might be
created to accommodate the histograms for the CORSIKA event header elements. The core names
of these output pdf files are also given by hdf5_file_name argument with the addition of
‘event_1d_histograms’ and ‘event_2d_histograms’.</p>
</dd>
<dt>hdf5 (bool, optional)</dt><dd><p>If set, histograms are saved into hdf5 files.</p>
</dd>
<dt>hdf5_file_name (str, optional)</dt><dd><p>The name of the output hdf5 data (without the path).
It requires the –hdf5 flag.
If not given, hdf5_file_name takes the name from the input IACT file (input_file).
If the output hdf5_file_name file already exists, the tables associated to the chosen
flags (e.g. hdf5, event_1d_histograms, event_2d_histograms) will be overwritten. The
remaining tables, if any, will stay untouched.</p>
</dd>
<dt>event_1d_histograms (str, optional)</dt><dd><p>Produce 1D histograms for elements given in –event_1d_histograms from the CORSIKA event
header and save into hdf5/pdf files.
It allows more than one argument, separated by simple spaces.
Usage: –event_1d_histograms first_interaction_height total_energy.</p>
</dd>
<dt>event_2d_histograms (str, optional)</dt><dd><p>Produce 2D histograms for elements given in –event_2d_histograms from the CORSIKA event
header and save into hdf5/pdf files.
It allows more than one argument, separated by simple spaces.
The elements are grouped into pairs and the 2D histograms are produced always for two
subsequent elements.
For example, –event_2d_histograms first_interaction_height total_energy zenith azimuth
will produce one 2D histogram for first_interaction_height total_energy and another 2D
histogram for zenith and azimuth.</p>
</dd>
</dl>
</section>
<section id="id21">
<h3>Example<a class="headerlink" href="#id21" title="Link to this heading">#</a></h3>
<p>Generate the histograms for a test IACT file:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-generate-corsika-histograms --iact_file /workdir/external/simtools/tests/            resources/tel_output_10GeV-2-gamma-20deg-CTAO-South.corsikaio --pdf --hdf5</span>
<span class="go">    --event_2d_histograms zenith azimuth --event_1d_histograms total_energy</span>
</pre></div>
</div>
</div></blockquote>
<p>Expected final print-out message:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">INFO::generate_corsika_histograms(l358)::main::Finalizing the application.</span>
<span class="go">Total time needed: 8s.</span>
</pre></div>
</div>
</section>
</section>
<section id="module-generate_default_metadata">
<span id="generate-default-metadata"></span><h2>generate_default_metadata<a class="headerlink" href="#module-generate_default_metadata" title="Link to this heading">#</a></h2>
<section id="id22">
<h3>Summary<a class="headerlink" href="#id22" title="Link to this heading">#</a></h3>
<p>Generate a default simtools metadata file from a json schema.</p>
</section>
<section id="id23">
<h3>Command line arguments<a class="headerlink" href="#id23" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>schema (str, optional)</dt><dd><p>Schema file describing the input data
(default: simtools/schemas/metadata.metaschema.yml)</p>
</dd>
<dt>output_file (str, optional)</dt><dd><p>Output file name.</p>
</dd>
</dl>
</section>
<section id="id24">
<h3>Example<a class="headerlink" href="#id24" title="Link to this heading">#</a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-generate-default-metadata</span>
<span class="go">    --schema simtools/schemas/metadata.metaschema.yml</span>
<span class="go">    --output_file default_metadata.yml</span>
</pre></div>
</div>
</section>
</section>
<section id="module-generate_simtel_array_histograms">
<span id="generate-simtel-array-histograms"></span><h2>generate_simtel_array_histograms<a class="headerlink" href="#module-generate_simtel_array_histograms" title="Link to this heading">#</a></h2>
<section id="id25">
<h3>Summary<a class="headerlink" href="#id25" title="Link to this heading">#</a></h3>
<p>This application allows to write sim_telarray histograms into pdf and hdf5 files.
It accepts multiple lists of histograms files, a single list or a histogram file.
Each histogram is plotted in a page of the pdf file if the –pdf option is activated.</p>
</section>
<section id="id26">
<h3>Command line arguments<a class="headerlink" href="#id26" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>hist_file_names (str, optional)</dt><dd><p>Name of the histogram files to be plotted.
It can be given as the histogram file names (more than one option allowed) or as a text
file with the names of the histogram files in it.</p>
</dd>
<dt>figure_name (str, required)</dt><dd><p>File name for the pdf output (without extension).</p>
</dd>
<dt>pdf (bool, optional)</dt><dd><p>If set, histograms are saved into pdf files.
One pdf file contains all the histograms found in the file.
The name of the file is controlled via output_file_name.</p>
</dd>
<dt>hdf5: bool</dt><dd><p>If true, histograms are saved into hdf5 files.
At least one of pdf and hdf5 has to be activated.</p>
</dd>
<dt>output_file_name (str, optional)</dt><dd><p>The name of the output hdf5 (and/or pdf) files (without the path).
If not given, output_file_name takes the name from the (first) input file
(hist_file_names).
If the output output_file_name.hdf5 file already exists and hdf5 is set, the tables
associated to hdf5 will be overwritten. The remaining tables, if any, will stay
untouched.</p>
</dd>
<dt>verbosity (str, optional)</dt><dd><p>Log level to print.</p>
</dd>
</dl>
</section>
<section id="raises">
<h3>Raises<a class="headerlink" href="#raises" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>TypeError:</dt><dd><p>if argument passed through hist_file_names is not a file.</p>
</dd>
</dl>
</section>
<section id="id27">
<h3>Example<a class="headerlink" href="#id27" title="Link to this heading">#</a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-generate-simtel-array-histograms --hist_file_names tests/resources/</span>
<span class="go">    run2_gamma_za20deg_azm0deg-North-Prod5_test-production-5.hdata.zst</span>
<span class="go">    --output_file_name test_hist_hdata --hdf5 --pdf</span>
</pre></div>
</div>
</section>
</section>
<section id="module-get_file_from_db">
<span id="get-file-from-db"></span><h2>get_file_from_db<a class="headerlink" href="#module-get_file_from_db" title="Link to this heading">#</a></h2>
<section id="id28">
<h3>Summary<a class="headerlink" href="#id28" title="Link to this heading">#</a></h3>
<p>Get a file from the DB.</p>
<p>The name of the file is required.
This application complements the ones for getting parameters, adding entries and files     to the DB.</p>
</section>
<section id="id29">
<h3>Command line arguments<a class="headerlink" href="#id29" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>file_name (str or list of str, required)</dt><dd><p>Name of the file to get including its full directory. A list of files is also allowed.
i.e., python applications/get_file_from_db.py -file_name mirror_CTA-N-LST1_v2019-03-31.dat.</p>
</dd>
<dt>output_path (str)</dt><dd><p>Name of the local output directory where to save the files.
Default it $CWD.</p>
</dd>
<dt>verbosity (str, optional)</dt><dd><p>Log level to print.</p>
</dd>
</dl>
</section>
<section id="id30">
<h3>Example<a class="headerlink" href="#id30" title="Link to this heading">#</a></h3>
<p>getting a file from the DB.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-get-file-from-db --file_name mirror_CTA-N-LST1_v2019-03-31.dat</span>
</pre></div>
</div>
<p>Expected final print-out message:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">INFO::get_file_from_db(l82)::main::Got file mirror_CTA-N-LST1_v2019-03-31.dat from DB         CTA-Simulation-Model and saved into .</span>
</pre></div>
</div>
</section>
</section>
<section id="module-get_parameter">
<span id="get-parameter"></span><h2>get_parameter<a class="headerlink" href="#module-get_parameter" title="Link to this heading">#</a></h2>
<p>Get a parameter entry from DB for a specific telescope or a site.
The application receives a parameter name, a site, a telescope (if applicable) and     optionally a version. It then prints out the parameter entry.
If no version is provided, the value of the released model is printed..</p>
<section id="id31">
<h3>Command line arguments<a class="headerlink" href="#id31" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>parameter (str, required)</dt><dd><p>Parameter name</p>
</dd>
<dt>site (str, required)</dt><dd><p>South or North.</p>
</dd>
<dt>telescope (str, optional)</dt><dd><p>Telescope model name (e.g. LST-1, SST-D, …)</p>
</dd>
<dt>log_level (str, optional)</dt><dd><p>Log level to print.</p>
</dd>
</dl>
</section>
<section id="id32">
<h3>Raises<a class="headerlink" href="#id32" title="Link to this heading">#</a></h3>
<p>KeyError in case the parameter requested does not exist in the model parameters.</p>
</section>
<section id="id33">
<h3>Example<a class="headerlink" href="#id33" title="Link to this heading">#</a></h3>
<p>Get the mirror_list parameter from the DB.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-get-parameter --parameter mirror_list --site North --telescope LST-1         --model_version prod5</span>
</pre></div>
</div>
<p>Expected final print-out message:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">{&#39;Applicable&#39;: True,</span>
<span class="go"> &#39;File&#39;: True,</span>
<span class="go"> &#39;Type&#39;: &#39;str&#39;,</span>
<span class="go"> &#39;Value&#39;: &#39;mirror_CTA-N-LST1_v2019-03-31.dat&#39;,</span>
<span class="go"> &#39;Version&#39;: &#39;2020-06-28&#39;,</span>
<span class="go"> &#39;_id&#39;: ObjectId(&#39;608834f257df2db2531b8e78&#39;),</span>
<span class="go"> &#39;entry_date&#39;: datetime.datetime(2021, 4, 27, 15, 59, 46, tzinfo=&lt;bson.tz_util.FixedOffset           object at 0x7f601dd51d80&gt;)}</span>
</pre></div>
</div>
</section>
</section>
<section id="module-light_emission">
<span id="light-emission"></span><h2>light_emission<a class="headerlink" href="#module-light_emission" title="Link to this heading">#</a></h2>
<section id="id34">
<h3>Summary<a class="headerlink" href="#id34" title="Link to this heading">#</a></h3>
<p>Simulate calibration devices using the light emission package.
Run the application in the command line.
There are two ways this application can be executed:</p>
<ol class="arabic simple">
<li><p>Illuminator at varying distances.</p></li>
<li><p>Illuminator and telescopes at fixed positions as defined in the layout.</p></li>
</ol>
</section>
<section id="example-usage">
<h3>Example Usage<a class="headerlink" href="#example-usage" title="Link to this heading">#</a></h3>
<ol class="arabic">
<li><p>Simulate light emission with varying distances:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-simulate-light-emission --telescope MSTN-04 --site North             --illuminator ILLN-01 --light_source_setup variable             --model_version prod6 --light_source_type led</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Simulate light emission with telescopes at fixed positions according to the layout:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-simulate-light-emission --telescope MSTN-04 --site North             --illuminator ILLN-01 --light_source_setup variable             --model_version prod6 --telescope_file             /workdir/external/simtools/tests/resources/telescope_positions-North-ground.ecsv            --light_source_type led</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</section>
<section id="id35">
<h3>Command Line Arguments<a class="headerlink" href="#id35" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>–telescope (str, required)</dt><dd><p>Telescope model name (e.g. LSTN-01, SSTS-design, SSTS-25, …)</p>
</dd>
<dt>–site (str, required)</dt><dd><p>Site name (North or South).</p>
</dd>
<dt>–illuminator (str, optional)</dt><dd><p>Illuminator in array, e.g., ILLN-01.</p>
</dd>
<dt>–light_source_setup (str, optional)</dt><dd><p>Select calibration light source positioning/setup:
- “variable” for varying distances.
- “layout” for actual telescope positions.</p>
</dd>
<dt>–model_version (str, optional)</dt><dd><p>Version of the simulation model.</p>
</dd>
<dt>–light_source_type (str, optional)</dt><dd><p>Select calibration light source type: led (default) or laser.
This changes the pre-compiled (simtel_array) application that is used to run the
light emission package with. Currently we use xyzls (laser), and ls-beam can be
accessed by using the laser option.</p>
</dd>
<dt>–telescope_file (str, optional)</dt><dd><p>Telescope position file. Required when using the –light_source_setup layout option.</p>
</dd>
<dt>–off_axis_angle (float, optional)</dt><dd><p>Off axis angle for light source direction.</p>
</dd>
<dt>–plot (flag, optional)</dt><dd><p>Produce a multiple pages pdf file with the image plots.</p>
</dd>
</dl>
</section>
<section id="id36">
<h3>Example<a class="headerlink" href="#id36" title="Link to this heading">#</a></h3>
<p>Simulate isotropic light source at different distances for the MSTN-04:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-simulate-light-emission --telescope MSTN-04 --site North         --illuminator ILLN-01 --light_source_setup variable         --model_version prod6 --light_source_type led    ```</span>
</pre></div>
</div>
<p>Expected Output:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">light-emission package stage:</span>
<span class="go">File &#39;/workdir/external/simtools/simtools-output/light_emission/model/</span>
<span class="go">    atmprof_ecmwf_north_winter_fixed.dat&#39; registered for atmospheric profile 99.</span>
<span class="go">Atmospheric profile 99 to be read from file &#39;/workdir/external/simtools/</span>
<span class="go">    simtools-output/light_emission/model/atmprof_ecmwf_north_winter_fixed.dat&#39;.</span>
<span class="go">Atmospheric profile 99 with 55 levels read from file /workdir/external/</span>
<span class="go">    simtools/simtools-output/light_emission/model/atmprof_ecmwf_north_winter_fixed.dat</span>
<span class="go">Initialize atmosphere ranging from 0.000 to 120.000 km a.s.l.</span>
<span class="go">IACT control parameter line: print_events 999 10 100 1000 0</span>
<span class="go">Case 1: 1 event with 1e+10 photons.</span>
<span class="go">Using IACT/ATMO package version 1.67 (2023-11-10) for CORSIKA 6.999</span>
<span class="go">Output file /workdir/external/simtools/simtools-output/light_emission/xyzls.iact.gz</span>
<span class="go">    not yet created.</span>
<span class="go">Telescope output file: &#39;/workdir/external/simtools/simtools-output/</span>
<span class="go">    light_emission/xyzls.iact.gz&#39;</span>
<span class="go">....</span>
<span class="go">....</span>
<span class="go">Sim_telarray stage:</span>
<span class="go">Telescope 1 triggered (1/0/0/0, mask 1), summation from 36 to 95 of 105</span>
<span class="go">Event end data has been found.</span>
<span class="go">Shower of 0.0000 TeV energy was seen in 1 of 1 cases.</span>
<span class="go">Photon statistics:</span>
<span class="go">All photons:               928518</span>
<span class="go">Used photons:              928518</span>
<span class="go">Not absorbed/max. Q.E.:    189560</span>
<span class="go">Reflected on mirror:        26815</span>
<span class="go">Camera hit:                 25574</span>
<span class="go">Pixel hit:                  25574</span>
<span class="go">Detected:                   20998</span>
<span class="go">Trigger statistics:</span>
<span class="go">Tel. triggered:             1</span>
<span class="go">Tel. + array:               1</span>
<span class="go">Early readout:              0</span>
<span class="go">Late readout:               0</span>
<span class="go">Finish data conversion ...</span>
<span class="go">Writing 13 histograms to output file.</span>
</pre></div>
</div>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="light_emission.default_le_configs">
<span class="sig-prename descclassname"><span class="pre">light_emission.</span></span><span class="sig-name descname"><span class="pre">default_le_configs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">le_application</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/light_emission.html#default_le_configs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#light_emission.default_le_configs" title="Link to this definition">#</a></dt>
<dd><p>Predefined angular distribution names not requiring to read any table are
“Isotropic”, “Gauss:&lt;rms&gt;”, “Rayleigh”, “Cone:&lt;angle&gt;”, and “FilledCone:&lt;angle&gt;”, “Parallel”,
with all angles given in degrees, all with respect to the given direction vector
(vertically downwards if missing). If the light source has a non-zero length and velocity
(in units of the vacuum speed of light), it is handled as a moving source,
in the given direction.</p>
</dd></dl>

</section>
<section id="module-make_regular_arrays">
<span id="make-regular-arrays"></span><h2>make_regular_arrays<a class="headerlink" href="#module-make_regular_arrays" title="Link to this heading">#</a></h2>
<section id="id37">
<h3>Summary<a class="headerlink" href="#id37" title="Link to this heading">#</a></h3>
<p>This application creates the layout array files (ECSV) of regular arrays
with one telescope at the center of the array and with 4 telescopes
in a square grid. These arrays are used for trigger rate simulations.</p>
<p>The array layout files created should be available at the data/layout directory.</p>
</section>
<section id="id38">
<h3>Command line arguments<a class="headerlink" href="#id38" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>site (str, required)</dt><dd><p>observatory site (e.g., North or South).</p>
</dd>
<dt>model_version (str, optional)</dt><dd><p>Model version to use (e.g., prod6). If not provided, the latest version is used.</p>
</dd>
<dt>verbosity (str, optional)</dt><dd><p>Log level to print.</p>
</dd>
</dl>
</section>
<section id="id39">
<h3>Example<a class="headerlink" href="#id39" title="Link to this heading">#</a></h3>
<p>Runtime &lt; 10 s.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-make-regular-arrays --site=North</span>
</pre></div>
</div>
</section>
</section>
<section id="module-plot_array_layout">
<span id="plot-array-layout"></span><h2>plot_array_layout<a class="headerlink" href="#module-plot_array_layout" title="Link to this heading">#</a></h2>
<section id="id40">
<h3>Summary<a class="headerlink" href="#id40" title="Link to this heading">#</a></h3>
<p>This application plots the layout array and saves into disk.</p>
<p>It accepts as input the telescope list file, the name of the layout, a sequence of arguments
with the telescope files or a sequence of arguments with the layout names.</p>
<p>A rotation angle in degrees can be passed in case the array should be rotated before plotting.
A sequence of arguments for the rotation angle is also permitted, in which case all of them
are plotted and saved separately.</p>
</section>
<section id="id41">
<h3>Command line arguments<a class="headerlink" href="#id41" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>figure_name (str, optional)</dt><dd><p>File name for the pdf output.</p>
</dd>
<dt>telescope_list (str, optional)</dt><dd><p>The telescopes file (.ecsv) with the array information.</p>
</dd>
<dt>array_layout_name (str, optional)</dt><dd><p>Name of the layout array (e.g., North-TestLayout, South-TestLayout, North-4LST, etc.).</p>
</dd>
<dt>rotate_angle (float, optional)</dt><dd><p>Angle to rotate the array before plotting (in degrees).</p>
</dd>
<dt>show_tel_label (bool, optional)</dt><dd><p>Shows the telescope labels in the plot.</p>
</dd>
<dt>verbosity (str, optional)</dt><dd><p>Log level to print.</p>
</dd>
</dl>
</section>
<section id="id42">
<h3>Example<a class="headerlink" href="#id42" title="Link to this heading">#</a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-plot-layout-array --figure_name northern_array_alpha         --array_layout_name North-TestLayout</span>
</pre></div>
</div>
</section>
</section>
<section id="module-print_array_elements">
<span id="print-array-elements"></span><h2>print_array_elements<a class="headerlink" href="#module-print_array_elements" title="Link to this heading">#</a></h2>
<section id="id43">
<h3>Summary<a class="headerlink" href="#id43" title="Link to this heading">#</a></h3>
<p>Convert and print a list of array element positions in different coordinate     systems relevant for CTAO.</p>
</section>
<section id="id44">
<h3>Description<a class="headerlink" href="#id44" title="Link to this heading">#</a></h3>
<p>This application converts a list of array element positions in different CTAO     coordinate systems.</p>
<p>Available coordinate systems are:</p>
<ol class="arabic simple">
<li><p>UTM system</p></li>
<li><p>ground system (similar to sim_telarray system with x-axis pointing toward         geographic north and y-axis pointing towards the west); altitude relative         to the CORSIKA observation level.</p></li>
<li><p>Mercator system</p></li>
</ol>
</section>
<section id="id45">
<h3>Command line arguments<a class="headerlink" href="#id45" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>input (str)</dt><dd><p>File name with list of array element positions</p>
</dd>
<dt>print (str)</dt><dd><p>Print requested coordinate system; possible are ground, utm, mercator</p>
</dd>
<dt>export (str)</dt><dd><p>Export array element list to file in requested coordinate system;             possible are ground, utm, mercator</p>
</dd>
<dt>select_assets (str)</dt><dd><p>Select a subset of array elements / telescopes (e.g., MSTN, LSTN)</p>
</dd>
</dl>
</section>
<section id="id46">
<h3>Example<a class="headerlink" href="#id46" title="Link to this heading">#</a></h3>
<p>Print a list of array elements using a list of telescope positions in UTM coordinates.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-print-array-elements \</span>
<span class="go">    --input tests/resources/telescope_positions-North-utm.ecsv \</span>
<span class="go">    --print ground</span>
</pre></div>
</div>
<p>The converted list of telescope positions in ground coordinates is printed to the screen.</p>
<p>The following example converts a list of telescope positions in UTM coordinates     and writes the output to a file in ground (sim_telarray) coordinates. Also selects     only a subset of the array elements (telescopes; ignore calibration devices):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-print-array-elements \</span>
<span class="go">    --input tests/resources/telescope_positions-North-utm.ecsv \</span>
<span class="go">    --export ground \</span>
<span class="go">    --select_assets LSTN</span>
</pre></div>
</div>
<p>Expected output is a ecsv file in the directory printed to the screen.</p>
</section>
</section>
<section id="module-produce_array_config">
<span id="produce-array-config"></span><h2>produce_array_config<a class="headerlink" href="#module-produce_array_config" title="Link to this heading">#</a></h2>
<section id="id47">
<h3>Summary<a class="headerlink" href="#id47" title="Link to this heading">#</a></h3>
<p>This application is an example of how to produce sim_telarray config     files for a given array.</p>
<p>All the input required has to be given as a yaml file by the command     line argument array_config.</p>
<p>The required entries in the array_config file are:</p>
<p>‘site’: South or North</p>
<p>‘layout_name’: name of a valid layout array.</p>
<p>‘model_version’: name of a valid model version.</p>
<p>‘default’: telescope model names to be assigned to each telescope size by default. 
As optional data, specific telescope models can be assigned to individual telescopes.     This is done by the entries with the name of the telescope (as used by the layout     definition, ex. LSTN-01, MSTN-05, SSTS-10).</p>
<p>Each telescope model can be set in two ways.</p>
<p>a) A single str with the name of telescope model.
Ex. ‘MSTN-05’: ‘NectarCam-D’</p>
<p>b) A dict containing a ‘name’ key with the name of the telescope model and further keys     with model parameters to be changed from the original model.
Ex.:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;MSTN-05&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;design&#39;</span><span class="p">,</span>
        <span class="s1">&#39;fadc_pulse_shape&#39;</span><span class="p">:</span> <span class="s1">&#39;Pulse_template_nectarCam_17042020-noshift.dat&#39;</span><span class="p">,</span>
        <span class="s1">&#39;discriminator_pulse_shape&#39;</span><span class="p">:</span> <span class="s1">&#39;Pulse_template_nectarCam_17042020-noshift.dat&#39;</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>This is an example of the content of an array_config file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">site</span><span class="p">:</span> <span class="n">North</span><span class="p">,</span>
<span class="n">layout_name</span><span class="p">:</span> <span class="n">Prod5</span>
<span class="n">model_version</span><span class="p">:</span> <span class="n">Prod5</span>
<span class="n">default</span><span class="p">:</span>
    <span class="n">LST</span><span class="p">:</span> <span class="s1">&#39;D234&#39;</span>  <span class="c1"># Design model for the LSTs</span>
    <span class="n">MST</span><span class="p">:</span> <span class="n">FlashCam</span><span class="o">-</span><span class="n">D</span>  <span class="c1"># Design model for the MST-FlashCam</span>
<span class="n">LST</span><span class="o">-</span><span class="mi">01</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span>  <span class="c1"># Model of LST-01 in the LaPalma site.</span>
<span class="n">MST</span><span class="o">-</span><span class="mi">05</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">NectarCam</span><span class="o">-</span><span class="n">D</span>
    <span class="c1"># Parameters to be changed</span>
    <span class="n">fadc_pulse_shape</span><span class="p">:</span> <span class="n">Pulse_template_nectarCam_17042020</span><span class="o">-</span><span class="n">noshift</span><span class="o">.</span><span class="n">dat</span>
    <span class="n">discriminator_pulse_shape</span><span class="p">:</span> <span class="n">Pulse_template_nectarCam_17042020</span><span class="o">-</span><span class="n">noshift</span><span class="o">.</span><span class="n">dat</span>
</pre></div>
</div>
</section>
<section id="id48">
<h3>Command line arguments<a class="headerlink" href="#id48" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>label (str, optional)</dt><dd><p>Label to identify the output files/directories.</p>
</dd>
<dt>array_config (str, required)</dt><dd><p>Path to a yaml file with the array config data.</p>
</dd>
<dt>verbosity (str, optional)</dt><dd><p>Log level to print.</p>
</dd>
</dl>
</section>
<section id="id49">
<h3>Example<a class="headerlink" href="#id49" title="Link to this heading">#</a></h3>
<p>North - Prod5, simple example</p>
<p>Get the array configuration from DB:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-get-file-from-db --file_name array_config_test.yml</span>
</pre></div>
</div>
<p>Run the application. Runtime &lt; 1 min.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-produce-array-config --label test --array_config         array_config_test.yml</span>
</pre></div>
</div>
<p>The output is saved in simtools-output/test/model.</p>
<p>Expected final print-out message:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">INFO::array_model(l361)::export_simtel_array_config_file::Writing array config file into         /workdir/external/simtools/simtools-output/test/model/CTA-TestLayout-North-2020-06-        28_test.cfg</span>
</pre></div>
</div>
</section>
</section>
<section id="module-sim_showers_for_trigger_rates">
<span id="sim-showers-for-trigger-rates"></span><h2>sim_showers_for_trigger_rates<a class="headerlink" href="#module-sim_showers_for_trigger_rates" title="Link to this heading">#</a></h2>
<section id="id50">
<h3>Summary<a class="headerlink" href="#id50" title="Link to this heading">#</a></h3>
<p>This application simulates showers to be used in trigger rate calculations.
Arrays with one (1MST) or four telescopes (4LST) can be used, in case of     mono or stereo trigger configurations, respectively.</p>
<p>Simulations are managed by the Simulator module.
Each run is simulated in a job. Each job is submitted by using the submission     command from the global config settings. The config entry extra_commands can be used     to extra commands to be ran in each job, before the actual simulation.</p>
<p>At the moment, the shower simulations are performed by CORSIKA, which requires     the zstd package. Please, make sure that the command to set your zstd path is     properly set by the extra_commands in the command line configuration.</p>
</section>
<section id="id51">
<h3>Command line arguments<a class="headerlink" href="#id51" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>array (str, required)</dt><dd><p>Name of the array (1MST, 4LST …).</p>
</dd>
<dt>site (str, required)</dt><dd><p>South or North.</p>
</dd>
<dt>primary (str, required)</dt><dd><p>Name of the primary particle (proton, helium …).</p>
</dd>
<dt>nruns (int, optional)</dt><dd><p>Number of runs to be simulated.</p>
</dd>
<dt>nevents (int, optional)</dt><dd><p>Number of events simulated per run.</p>
</dd>
<dt>zenith (float, optional)</dt><dd><p>Zenith angle in deg.</p>
</dd>
<dt>azimuth (float, optional)</dt><dd><p>Azimuth angle in deg.</p>
</dd>
<dt>data_directory (str, optional)</dt><dd><p>The location of the output directories corsika-data.
the label is added to the data_directory, such that the output
will be written to data_directory/label/corsika-data.</p>
</dd>
<dt>test (activation mode, optional)</dt><dd><p>If activated, no job will be submitted. Instead, an example of the         run script will be printed.</p>
</dd>
<dt>verbosity (str, optional)</dt><dd><p>Log level to print.</p>
</dd>
</dl>
</section>
<section id="id52">
<h3>Example<a class="headerlink" href="#id52" title="Link to this heading">#</a></h3>
<p>Producing a set of proton showers for trigger rate simulations of LST.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-sim-showers-for-trigger-rates --array 4LST --site North --primary         proton --nruns 2 --nevents 10000 --test --submit_command local</span>
</pre></div>
</div>
<p>The output is saved in simtools-output/sim_showers_for_trigger_rates.</p>
<p>Expected final print-out message:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">INFO::sim_showers_for_trigger_rates(l174)::main::List of log files exported to         /workdir/external/simtools/simtools-output/sim_showers_for_trigger_rates/application-        plots/log_files_proton.list</span>
<span class="go">INFO::simulator(l646)::get_list_of_log_files::Getting list of log files</span>
</pre></div>
</div>
</section>
</section>
<section id="module-simulate_prod">
<span id="simulate-prod"></span><h2>simulate_prod<a class="headerlink" href="#module-simulate_prod" title="Link to this heading">#</a></h2>
<section id="id53">
<h3>Summary<a class="headerlink" href="#id53" title="Link to this heading">#</a></h3>
<p>This application is used to run simulations for productions (typically on the grid).
It allows to run a Paranal (CTAO-South) or La Palma (CTAO-North) array layout simulation
with the provided “prod_tag” simulation configuration (e.g., Prod6)
for a given primary particle, azimuth, and zenith angle.</p>
<p>The entire simulation chain is performed, i.e., shower simulations with CORSIKA
which are piped directly to sim_telarray using the sim_telarray multipipe mechanism.
This script produces all the necessary configuration files for CORSIKA and
sim_telarray before running simulation.
The multipipe scripts will be produced as part of this script.</p>
<p>This script does not provide a mechanism to submit jobs to a batch system like others
in simtools since it is meant to be executed on a grid node
(distributed to it by the workload management system).</p>
</section>
<section id="id54">
<h3>Command line arguments<a class="headerlink" href="#id54" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>production_config (str, Path, required)</dt><dd><p>Simulation configuration file
(contains the default setup which can be overwritten by the command line options).</p>
</dd>
<dt>model_version (str, required)</dt><dd><p>The telescope model version to use (e.g., Prod5).</p>
</dd>
<dt>site (str, required)</dt><dd><p>North or South (case insensitive).</p>
</dd>
<dt>primary (str, required)</dt><dd><p>Name of the primary particle to simulate. The available options are
gamma, gamma_diffuse, electron, proton, muon, helium, nitrogen, silicon, and iron.</p>
</dd>
<dt>azimuth_angle (str or float, required)</dt><dd><p>Telescope pointing direction in azimuth.
It can be in degrees between 0 and 360 or one of north, south, east or west
(case insensitive). Note that North is 0 degrees and the azimuth grows clockwise,
so East is 90 degrees.</p>
</dd>
<dt>zenith_angle (float, required)</dt><dd><p>Zenith angle in degrees.</p>
</dd>
<dt>nshow (int, optional)</dt><dd><p>Number of showers to simulate.
The Number of simulated events depends on the number of times a shower is re-used in the
telescope simulation. The number provided here is before any reuse factors.</p>
</dd>
<dt>start_run (int, required)</dt><dd><p>Start run number such that the actual run number will be ‘start_run’ + ‘run’.
This is useful in case a new transform is submitted for the same production.
It allows the transformation system to keep using sequential run numbers without repetition.</p>
</dd>
<dt>run (int, required)</dt><dd><p>Run number (actual run number will be ‘start_run’ + ‘run’).</p>
</dd>
<dt>data_directory (str, optional)</dt><dd><p>The location of the output directories corsika-data and simtel-data.
the label is added to the data_directory, such that the output
will be written to data_directory/label/simtel-data.</p>
</dd>
<dt>pack_for_grid_register (bool, optional)</dt><dd><p>Set whether to prepare a tarball for registering the output files on the grid.
The files are written to the output_path/directory_for_grid_upload directory.</p>
</dd>
<dt>log_level (str, optional)</dt><dd><p>Log level to print.</p>
</dd>
</dl>
</section>
<section id="id55">
<h3>Example<a class="headerlink" href="#id55" title="Link to this heading">#</a></h3>
<p>Run the application:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-simulate-prod         --production_config tests/resources/prod_multi_config_test.yml --model_version Prod5         --site north --primary gamma --azimuth_angle north --zenith_angle 20         --start_run 0 --run 1</span>
</pre></div>
</div>
<p>By default the configuration is saved in simtools-output/test-production
together with the actual simulation output in corsika-data and simtel-data within.
The location of the latter directories can be set
to a different location via the option –data_directory,
but the label is always added to the data_directory, such that the output
will be written to data_directory/label/simtel-data.</p>
<p>Expected final print-out message:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">INFO::array_layout(l569)::read_telescope_list_file::Reading array elements from ...</span>
<span class="go">WARNING::corsika_runner(l127)::_load_corsika_config_data::data_directory not given</span>
<span class="go">in corsika_config - default output directory will be set.</span>
<span class="go">INFO::array_layout(l569)::read_telescope_list_file::Reading array elements from ...</span>
<span class="go">INFO::corsika_config(l493)::_set_output_file_and_directory::Creating directory</span>
<span class="go">INFO::simulator(l405)::simulate::Submission command: local</span>
<span class="go">INFO::simulator(l410)::simulate::Starting submission for 1 run</span>
<span class="go">INFO::array_model(l315)::export_simtel_array_config_file::Writing array config file into</span>
<span class="go">INFO::job_manager(l95)::submit::Submitting script</span>
<span class="go">INFO::job_manager(l96)::submit::Job output stream</span>
<span class="go">INFO::job_manager(l97)::submit::Job error stream</span>
<span class="go">INFO::job_manager(l98)::submit::Job log stream</span>
<span class="go">INFO::job_manager(l119)::_submit_local::Running script locally</span>
</pre></div>
</div>
</section>
</section>
<section id="module-submit_data_from_external">
<span id="submit-data-from-external"></span><h2>submit_data_from_external<a class="headerlink" href="#module-submit_data_from_external" title="Link to this heading">#</a></h2>
<section id="id56">
<h3>Summary<a class="headerlink" href="#id56" title="Link to this heading">#</a></h3>
<p>Submit model parameter (value, table) through the command line.</p>
<p>Input data and metadata is validated, and if necessary enriched
and converted following a pre-described schema.</p>
</section>
<section id="id57">
<h3>Command line arguments<a class="headerlink" href="#id57" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>input_meta (str, optional)</dt><dd><p>input meta data file (yml format)</p>
</dd>
<dt>input (str, optional)</dt><dd><p>input data file</p>
</dd>
<dt>schema (str, optional)</dt><dd><p>Schema describing the input data</p>
</dd>
</dl>
</section>
<section id="id58">
<h3>Example<a class="headerlink" href="#id58" title="Link to this heading">#</a></h3>
<p>Submit mirror measurements with associated metadata:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-submit-data-from-external             --input_meta ./tests/resources/MLTdata-preproduction.meta.yml             --input ./tests/resources/MLTdata-preproduction.ecsv             --schema ./tests/resources/schema_MST_mirror_2f_measurements.yml             --output_file TEST-submit_data_from_external.ecsv</span>
</pre></div>
</div>
<p>Expected final print-out message:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">INFO::model_data_writer(l70)::write_data::Writing data to             /simtools/simtools-output/d-2023-07-31/TEST-submit_data_from_external.ecsv</span>
</pre></div>
</div>
</section>
</section>
<section id="module-tune_psf">
<span id="tune-psf"></span><h2>tune_psf<a class="headerlink" href="#module-tune_psf" title="Link to this heading">#</a></h2>
<section id="id59">
<h3>Summary<a class="headerlink" href="#id59" title="Link to this heading">#</a></h3>
<p>This applications tunes the parameters mirror_reflection_random_angle,     mirror_align_random_horizontal and mirror_align_random_vertical using     cumulative PSF measurement.</p>
<p>The telescope zenith angle and the source distance can be set by command line arguments.</p>
<p>The measured cumulative PSF should be provided by using the command line argument data.     A file name is expected, in which the file should contain 3 columns: radial distance in mm,     differential value of photon intensity and its integral value.</p>
<p>The tuning is performed through a random search. A number of random combination of the     parameters are tested and the best ones are selected based on the minimum value of     the Root Mean Squared Deviation between data and simulations. The range in which the     parameter are drawn uniformly are defined based on the previous value on the telescope model.</p>
<p>The assumption are:</p>
<ol class="loweralpha simple">
<li><p>mirror_align_random_horizontal and mirror_align_random_vertical are the same.</p></li>
<li><p>mirror_align_random_horizontal/vertical have no dependence on the zenith angle.</p></li>
</ol>
<p>One example of the plot generated by this applications are shown below.</p>
<a class="reference internal image-reference" href="_images/tune_psf.png" id="tune-psf-plot"><img alt="_images/tune_psf.png" id="tune-psf-plot" src="_images/tune_psf.png" style="width: 49%;" />
</a>
</section>
<section id="id60">
<h3>Command line arguments<a class="headerlink" href="#id60" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>site (str, required)</dt><dd><p>North or South.</p>
</dd>
<dt>telescope (str, required)</dt><dd><p>Telescope model name (e.g. LST-1, SST-D, …).</p>
</dd>
<dt>model_version (str, optional)</dt><dd><p>Model version.</p>
</dd>
<dt>src_distance (float, optional)</dt><dd><p>Source distance in km.</p>
</dd>
<dt>zenith (float, optional)</dt><dd><p>Zenith angle in deg.</p>
</dd>
<dt>data (str, optional)</dt><dd><p>Name of the data file with the measured cumulative PSF.</p>
</dd>
<dt>plot_all (activation mode, optional)</dt><dd><p>If activated, plots will be generated for all values tested during tuning.</p>
</dd>
<dt>fixed (activation mode, optional)</dt><dd><p>Keep the first entry of mirror_reflection_random_angle fixed.</p>
</dd>
<dt>test (activation mode, optional)</dt><dd><p>If activated, application will be faster by simulating fewer photons.</p>
</dd>
<dt>verbosity (str, optional)</dt><dd><p>Log level to print.</p>
</dd>
</dl>
</section>
<section id="id61">
<h3>Example<a class="headerlink" href="#id61" title="Link to this heading">#</a></h3>
<p>LST-1 Prod5</p>
<p>Runtime &lt; 3 min.</p>
<p>Get PSF data from the DB:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-get-file-from_db --file_name PSFcurve_data_v2.txt</span>
</pre></div>
</div>
<p>Run the application:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-tune-psf --site North --telescope LST-1             --model_version prod5 --data PSFcurve_data_v2.txt --plot_all --test</span>
</pre></div>
</div>
<p>The output is saved in simtools-output/tune_psf.</p>
<p>Expected final print-out message:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Best parameters:</span>
<span class="go">mirror_reflection_random_angle = 0.0043,0.08,0.0470</span>
<span class="go">mirror_align_random_horizontal = 0.0047,28.,0.,0.</span>
<span class="go">mirror_align_random_vertical = 0.0047,28.,0.,0.</span>
</pre></div>
</div>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="tune_psf.load_data">
<span class="sig-prename descclassname"><span class="pre">tune_psf.</span></span><span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tune_psf.html#load_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tune_psf.load_data" title="Link to this definition">#</a></dt>
<dd><p>Load data from file txt file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data_file: str</strong></dt><dd><p>Name of the data file with the measured cumulative PSF.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-validate_camera_efficiency">
<span id="validate-camera-efficiency"></span><h2>validate_camera_efficiency<a class="headerlink" href="#module-validate_camera_efficiency" title="Link to this heading">#</a></h2>
<section id="id62">
<h3>Summary<a class="headerlink" href="#id62" title="Link to this heading">#</a></h3>
<p>This application validate the camera efficiency by simulating it using     the testeff program provided by sim_telarray.</p>
<p>The results of camera efficiency for Cherenkov (left) and NSB light (right) as a function    of wavelength are plotted. See examples below.</p>
<a class="reference internal image-reference" href="_images/validate_camera_efficiency_North-MST-NectarCam-D_cherenkov.png" id="validate-camera-eff-plot"><img alt="_images/validate_camera_efficiency_North-MST-NectarCam-D_cherenkov.png" id="validate-camera-eff-plot" src="_images/validate_camera_efficiency_North-MST-NectarCam-D_cherenkov.png" style="width: 49%;" />
</a>
<a class="reference internal image-reference" href="_images/validate_camera_efficiency_North-MST-NectarCam-D_nsb.png"><img alt="_images/validate_camera_efficiency_North-MST-NectarCam-D_nsb.png" src="_images/validate_camera_efficiency_North-MST-NectarCam-D_nsb.png" style="width: 49%;" />
</a>
</section>
<section id="id63">
<h3>Command line arguments<a class="headerlink" href="#id63" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>site (str, required)</dt><dd><p>North or South.</p>
</dd>
<dt>telescope (str, required)</dt><dd><p>Telescope model name (e.g. LST-1, SST-D, …)</p>
</dd>
<dt>model_version (str, optional)</dt><dd><p>Model version (default=’Released’)</p>
</dd>
<dt>zenith_angle (float, optional)</dt><dd><p>Zenith angle in degrees (between 0 and 180).</p>
</dd>
<dt>azimuth_angle (float, optional)</dt><dd><p>Telescope pointing direction in azimuth. It can be in degrees between 0 and 360 or
one of north, south, east or west (case insensitive). Note that North is 0 degrees
and the azimuth grows clockwise, so East is 90 degrees.</p>
</dd>
<dt>nsb_spectrum (str, optional)</dt><dd><p>File with NSB spectrum to use for the efficiency simulation.
The expected format is two columns with wavelength in nm and
NSB flux with the units: [1e9 * ph/m2/s/sr/nm].
If the file has more than two columns, the first and third are used,
and the second is ignored (native sim_telarray behaviour).</p>
</dd>
<dt>verbosity (str, optional)</dt><dd><p>Log level to print</p>
</dd>
</dl>
</section>
<section id="id64">
<h3>Example<a class="headerlink" href="#id64" title="Link to this heading">#</a></h3>
<p>MST-NectarCam - Prod5</p>
<p>Runtime &lt; 1 min.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-validate-camera-efficiency --site North             --azimuth_angle 0 --zenith_angle 20             --nsb_spectrum average_nsb_spectrum_CTAO-N_ze20_az0.txt             --telescope MST-NectarCam-D --model_version prod5</span>
</pre></div>
</div>
<p>The output is saved in simtools-output/validate_camera_efficiency.</p>
<p>Expected final print-out message:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">INFO::validate_camera_efficiency(l118)::main::Plotted NSB efficiency in /workdir/external/        simtools/simtools-output/validate_camera_efficiency/application-plots/validate_camera        _efficiency_MST-NectarCam-D_nsb</span>
</pre></div>
</div>
</section>
</section>
<section id="module-validate_camera_fov">
<span id="validate-camera-fov"></span><h2>validate_camera_fov<a class="headerlink" href="#module-validate_camera_fov" title="Link to this heading">#</a></h2>
<section id="id65">
<h3>Summary<a class="headerlink" href="#id65" title="Link to this heading">#</a></h3>
<p>This application calculate the camera FoV of the telescope requested and plot the camera     as seen for an observer facing the camera.</p>
<p>An example of the camera plot can be found below.</p>
<a class="reference internal image-reference" href="_images/validate_camera_fov_North-LST-1_pixelLayout.png" id="camera-fov-plot"><img alt="_images/validate_camera_fov_North-LST-1_pixelLayout.png" id="camera-fov-plot" src="_images/validate_camera_fov_North-LST-1_pixelLayout.png" style="width: 50%;" />
</a>
</section>
<section id="id66">
<h3>Command line arguments<a class="headerlink" href="#id66" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>site (str, required)</dt><dd><p>North or South.</p>
</dd>
<dt>telescope (str, required)</dt><dd><p>Telescope model name (e.g. LST-1, SST-D, …)</p>
</dd>
<dt>model_version (str, optional)</dt><dd><p>Model version</p>
</dd>
<dt>camera_in_sky_coor (bool, optional)</dt><dd><p>Plot the camera layout in sky coordinates akin to looking at it from behind for single          mirror telescopes</p>
</dd>
<dt>print_pixels_id (bool, optional)</dt><dd><p>Up to which pixel ID to print. To suppress printing of pixel IDs, set to zero         (–print_pixels_id 0). To print all pixels, set to ‘All’.”</p>
</dd>
<dt>verbosity (str, optional)</dt><dd><p>Log level to print</p>
</dd>
</dl>
</section>
<section id="id67">
<h3>Example<a class="headerlink" href="#id67" title="Link to this heading">#</a></h3>
<p>LST - Prod5</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-validate-camera-fov --site North             --telescope LST-1 --model_version prod5</span>
</pre></div>
</div>
<p>The output is saved in simtools-output/validate_camera_fov.</p>
<p>Expected final print-out message:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Saved camera plot in /workdir/external/simtools/simtools-output/validate_camera_fov        /application-plots/validate_camera_fov_LST-1_pixel_layout.png</span>
</pre></div>
</div>
</section>
</section>
<section id="module-validate_file_using_schema">
<span id="validate-file-using-schema"></span><h2>validate_file_using_schema<a class="headerlink" href="#module-validate_file_using_schema" title="Link to this heading">#</a></h2>
<section id="id68">
<h3>Summary<a class="headerlink" href="#id68" title="Link to this heading">#</a></h3>
<p>Validate a file using a schema.
Input files can be metadata, schema, or data files in yaml, json, or ecsv format.</p>
</section>
<section id="id69">
<h3>Command line arguments<a class="headerlink" href="#id69" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>file_name (str)</dt><dd><p>input file to be validated</p>
</dd>
<dt>schema (str)</dt><dd><p>schema file (jsonschema format) used for validation</p>
</dd>
<dt>data_type (str)</dt><dd><p>type of input data (allowed types: metadata, schema, data)</p>
</dd>
</dl>
</section>
<section id="id70">
<h3>Raises<a class="headerlink" href="#id70" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>FileNotFoundError</dt><dd><p>if file to be validated is not found</p>
</dd>
</dl>
</section>
<section id="id71">
<h3>Example<a class="headerlink" href="#id71" title="Link to this heading">#</a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-validate-file-using-schema          --file_name tests/resources/MLTdata-preproduction.meta.yml          --schema simtools/schemas/metadata.metaschema.yml          --data_type metadata</span>
</pre></div>
</div>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="validate_file_using_schema.validate_data_file">
<span class="sig-prename descclassname"><span class="pre">validate_file_using_schema.</span></span><span class="sig-name descname"><span class="pre">validate_data_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/validate_file_using_schema.html#validate_data_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#validate_file_using_schema.validate_data_file" title="Link to this definition">#</a></dt>
<dd><p>Validate a data file (e.g., in ecsv, json, yaml format)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="validate_file_using_schema.validate_metadata">
<span class="sig-prename descclassname"><span class="pre">validate_file_using_schema.</span></span><span class="sig-name descname"><span class="pre">validate_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/validate_file_using_schema.html#validate_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#validate_file_using_schema.validate_metadata" title="Link to this definition">#</a></dt>
<dd><p>Validate metadata.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="validate_file_using_schema.validate_schema">
<span class="sig-prename descclassname"><span class="pre">validate_file_using_schema.</span></span><span class="sig-name descname"><span class="pre">validate_schema</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/validate_file_using_schema.html#validate_schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#validate_file_using_schema.validate_schema" title="Link to this definition">#</a></dt>
<dd><p>Validate a schema file given in yaml or json format.
Schema is either given as command line argument, read from the meta_schema_url or from
the metadata section of the data dictionary.</p>
</dd></dl>

</section>
<section id="module-validate_optics">
<span id="validate-optics"></span><h2>validate_optics<a class="headerlink" href="#module-validate_optics" title="Link to this heading">#</a></h2>
<section id="id72">
<h3>Summary<a class="headerlink" href="#id72" title="Link to this heading">#</a></h3>
<p>This application validates the optical model parameters through ray tracing simulations     of the whole telescope, assuming a point-like light source. The output includes PSF (D80),     effective mirror area and effective focal length as a function of the off-axis angle. 
The telescope zenith angle and the source distance can be set by command line arguments.</p>
<p>Examples of the plots generated by this application are shown below. On the top, the D80     vs off-axis is shown in cm (left) and deg (right). On the bottom, the effective mirror     area (left) and the effective focal length (right) vs off-axis angle are shown.</p>
<a class="reference internal image-reference" href="_images/validate_optics_North-LST-1_d80_cm.png" id="validate-optics-plot"><img alt="_images/validate_optics_North-LST-1_d80_cm.png" id="validate-optics-plot" src="_images/validate_optics_North-LST-1_d80_cm.png" style="width: 49%;" />
</a>
<a class="reference internal image-reference" href="_images/validate_optics_North-LST-1_d80_deg.png"><img alt="_images/validate_optics_North-LST-1_d80_deg.png" src="_images/validate_optics_North-LST-1_d80_deg.png" style="width: 49%;" />
</a>
<a class="reference internal image-reference" href="_images/validate_optics_North-LST-1_eff_area.png"><img alt="_images/validate_optics_North-LST-1_eff_area.png" src="_images/validate_optics_North-LST-1_eff_area.png" style="width: 49%;" />
</a>
<a class="reference internal image-reference" href="_images/validate_optics_North-LST-1_eff_flen.png"><img alt="_images/validate_optics_North-LST-1_eff_flen.png" src="_images/validate_optics_North-LST-1_eff_flen.png" style="width: 49%;" />
</a>
</section>
<section id="id73">
<h3>Command line arguments<a class="headerlink" href="#id73" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>site (str, required)</dt><dd><p>North or South.</p>
</dd>
<dt>telescope (str, required)</dt><dd><p>Telescope model name (e.g. LST-1, SST-D, …).</p>
</dd>
<dt>model_version (str, optional)</dt><dd><p>Model version.</p>
</dd>
<dt>src_distance (float, optional)</dt><dd><p>Source distance in km.</p>
</dd>
<dt>zenith (float, optional)</dt><dd><p>Zenith angle in deg.</p>
</dd>
<dt>max_offset (float, optional)</dt><dd><p>Maximum offset angle in deg.</p>
</dd>
<dt>offset_steps (float, optional)</dt><dd><p>Offset angle step size.</p>
</dd>
<dt>plot_images (activation mode, optional)</dt><dd><p>Produce a multiple pages pdf file with the image plots.</p>
</dd>
<dt>test (activation mode, optional)</dt><dd><p>If activated, application will be faster by simulating fewer photons.</p>
</dd>
<dt>verbosity (str, optional)</dt><dd><p>Log level to print.</p>
</dd>
</dl>
</section>
<section id="id74">
<h3>Example<a class="headerlink" href="#id74" title="Link to this heading">#</a></h3>
<p>LST-1 Prod5</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">simtools-validate-optics --site North --telescope LST-1 --max_offset 1.0         --zenith 20 --src_distance 10 --test</span>
</pre></div>
</div>
<p>The output is saved in simtools-output/validate_optics</p>
<p>Expected final print-out message:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">INFO::ray_tracing(l434)::plot::Plotting eff_area vs off-axis angle</span>
<span class="go">INFO::ray_tracing(l434)::plot::Plotting eff_flen vs off-axis angle</span>
</pre></div>
</div>
</section>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="simtools-configuration.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Configuration</p>
      </div>
    </a>
    <a class="right-next"
       href="library.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">API</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">simtools Applications</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#list-of-applications">List of applications</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-add_file_to_db">add_file_to_db</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#command-line-arguments">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-add_value_from_json_to_db">add_value_from_json_to_db</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-calculate_trigger_rate">calculate_trigger_rate</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-compare_cumulative_psf">compare_cumulative_psf</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">Example</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#compare_cumulative_psf.load_data"><code class="docutils literal notranslate"><span class="pre">load_data()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-convert_all_model_parameters_from_simtel">convert_all_model_parameters_from_simtel</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">Example</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#convert_all_model_parameters_from_simtel.get_list_of_parameters_and_schema_files"><code class="docutils literal notranslate"><span class="pre">get_list_of_parameters_and_schema_files()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#convert_all_model_parameters_from_simtel.get_list_of_simtel_parameters"><code class="docutils literal notranslate"><span class="pre">get_list_of_simtel_parameters()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#convert_all_model_parameters_from_simtel.get_number_of_camera_pixel"><code class="docutils literal notranslate"><span class="pre">get_number_of_camera_pixel()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#convert_all_model_parameters_from_simtel.print_list_of_files"><code class="docutils literal notranslate"><span class="pre">print_list_of_files()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#convert_all_model_parameters_from_simtel.print_parameters_not_found"><code class="docutils literal notranslate"><span class="pre">print_parameters_not_found()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#convert_all_model_parameters_from_simtel.read_and_export_parameters"><code class="docutils literal notranslate"><span class="pre">read_and_export_parameters()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#convert_all_model_parameters_from_simtel.read_simtel_config_file"><code class="docutils literal notranslate"><span class="pre">read_simtel_config_file()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-convert_model_parameter_from_simtel">convert_model_parameter_from_simtel</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-derive_mirror_rnda">derive_mirror_rnda</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#description">Description</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-generate_corsika_histograms">generate_corsika_histograms</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id20">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id21">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-generate_default_metadata">generate_default_metadata</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id22">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id23">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id24">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-generate_simtel_array_histograms">generate_simtel_array_histograms</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id25">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id26">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#raises">Raises</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id27">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-get_file_from_db">get_file_from_db</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id28">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id29">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id30">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-get_parameter">get_parameter</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id31">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id32">Raises</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id33">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-light_emission">light_emission</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id34">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-usage">Example Usage</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id35">Command Line Arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id36">Example</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#light_emission.default_le_configs"><code class="docutils literal notranslate"><span class="pre">default_le_configs()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-make_regular_arrays">make_regular_arrays</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id37">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id38">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id39">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-plot_array_layout">plot_array_layout</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id40">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id41">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id42">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-print_array_elements">print_array_elements</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id43">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id44">Description</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id45">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id46">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-produce_array_config">produce_array_config</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id47">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id48">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id49">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-sim_showers_for_trigger_rates">sim_showers_for_trigger_rates</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id50">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id51">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id52">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-simulate_prod">simulate_prod</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id53">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id54">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id55">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-submit_data_from_external">submit_data_from_external</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id56">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id57">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id58">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-tune_psf">tune_psf</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id59">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id60">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id61">Example</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tune_psf.load_data"><code class="docutils literal notranslate"><span class="pre">load_data()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-validate_camera_efficiency">validate_camera_efficiency</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id62">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id63">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id64">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-validate_camera_fov">validate_camera_fov</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id65">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id66">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id67">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-validate_file_using_schema">validate_file_using_schema</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id68">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id69">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id70">Raises</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id71">Example</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#validate_file_using_schema.validate_data_file"><code class="docutils literal notranslate"><span class="pre">validate_data_file()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#validate_file_using_schema.validate_metadata"><code class="docutils literal notranslate"><span class="pre">validate_metadata()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#validate_file_using_schema.validate_schema"><code class="docutils literal notranslate"><span class="pre">validate_schema()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-validate_optics">validate_optics</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id72">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id73">Command line arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id74">Example</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Raul Prado (DESY), Orel Gueta (DESY), Tobias Kleiner (DESY), Victor Barbosa Martins (DESY), Gernot Maier (DESY)
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024, gammasim-tools, simtools developers.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>