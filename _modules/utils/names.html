<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>utils.names &#8212; simtools v0.1.dev1+ge8ca040</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=a66d8bb5" />
    <link rel="stylesheet" type="text/css" href="../../_static/simtools.css" />
    <script src="../../_static/documentation_options.js?v=5b7531a3"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">simtools</a></h1>



<p class="blurb">Simulation Tools for CTA v0.1.dev1+ge8ca040</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=gammasim&repo=simtools&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../simtools-configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../applications.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../library.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auxiliary_files.html">Auxiliary Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../databases.html">Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../simulation_software.html">Simulation Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer_guidelines.html">Developer Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pull_requests.html">Pull requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../coding_guidelines.html">Coding Guidelines</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for utils.names</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">re</span>

<span class="n">_logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;get_site_from_telescope_name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;get_telescope_type_from_telescope_name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;generate_file_name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;layout_telescope_list_file_name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;sanitize_name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;simtel_single_mirror_list_file_name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;simtel_config_file_name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;validate_array_layout_name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;validate_model_version_name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;validate_site_name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;validate_telescope_id_name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;validate_telescope_name&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="c1"># Telescopes and other array elements</span>
<span class="n">array_element_names</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># CTAO telescopes</span>
    <span class="s2">&quot;LSTN&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;North&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;telescope&quot;</span><span class="p">},</span>
    <span class="s2">&quot;MSTN&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;North&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;telescope&quot;</span><span class="p">},</span>
    <span class="s2">&quot;LSTS&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;South&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;telescope&quot;</span><span class="p">},</span>
    <span class="s2">&quot;MSTS&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;South&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;telescope&quot;</span><span class="p">},</span>
    <span class="s2">&quot;SSTS&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;South&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;telescope&quot;</span><span class="p">},</span>
    <span class="s2">&quot;SCTS&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;South&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;telescope&quot;</span><span class="p">},</span>
    <span class="c1"># calibration devices</span>
    <span class="s2">&quot;ILLN&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;North&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;calibration&quot;</span><span class="p">},</span>
    <span class="s2">&quot;RLDN&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;North&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;calibration&quot;</span><span class="p">},</span>
    <span class="s2">&quot;STPN&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;North&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;calibration&quot;</span><span class="p">},</span>
    <span class="s2">&quot;MSPN&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;North&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;calibration&quot;</span><span class="p">},</span>
    <span class="s2">&quot;CEIN&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;North&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;calibration&quot;</span><span class="p">},</span>
    <span class="s2">&quot;WSTN&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;North&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;calibration&quot;</span><span class="p">},</span>
    <span class="s2">&quot;ASCN&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;North&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;calibration&quot;</span><span class="p">},</span>
    <span class="s2">&quot;DUSN&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;North&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;calibration&quot;</span><span class="p">},</span>
    <span class="s2">&quot;LISN&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;North&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;calibration&quot;</span><span class="p">},</span>
    <span class="s2">&quot;ILLS&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;South&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;calibration&quot;</span><span class="p">},</span>
    <span class="s2">&quot;RLDS&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;South&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;calibration&quot;</span><span class="p">},</span>
    <span class="s2">&quot;STPS&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;South&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;calibration&quot;</span><span class="p">},</span>
    <span class="s2">&quot;MSPS&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;South&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;calibration&quot;</span><span class="p">},</span>
    <span class="s2">&quot;CEIS&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;South&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;calibration&quot;</span><span class="p">},</span>
    <span class="s2">&quot;WSTS&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;South&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;calibration&quot;</span><span class="p">},</span>
    <span class="s2">&quot;ASCS&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;South&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;calibration&quot;</span><span class="p">},</span>
    <span class="s2">&quot;DUSS&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;South&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;calibration&quot;</span><span class="p">},</span>
    <span class="s2">&quot;LISS&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;South&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;CTAO&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;calibration&quot;</span><span class="p">},</span>
    <span class="c1"># other telescopes</span>
    <span class="s2">&quot;MAGIC&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;North&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;MAGIC&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;telescope&quot;</span><span class="p">},</span>
    <span class="s2">&quot;VERITAS&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;North&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;VERITAS&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;telescope&quot;</span><span class="p">},</span>
    <span class="s2">&quot;HESS&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;site&quot;</span><span class="p">:</span> <span class="s2">&quot;South&quot;</span><span class="p">,</span> <span class="s2">&quot;observatory&quot;</span><span class="p">:</span> <span class="s2">&quot;HESS&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;telescope&quot;</span><span class="p">},</span>
<span class="p">}</span>

<span class="n">site_names</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;South&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;paranal&quot;</span><span class="p">,</span> <span class="s2">&quot;south&quot;</span><span class="p">,</span> <span class="s2">&quot;cta-south&quot;</span><span class="p">,</span> <span class="s2">&quot;ctao-south&quot;</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">],</span>
    <span class="s2">&quot;North&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;lapalma&quot;</span><span class="p">,</span> <span class="s2">&quot;north&quot;</span><span class="p">,</span> <span class="s2">&quot;cta-north&quot;</span><span class="p">,</span> <span class="s2">&quot;ctao-north&quot;</span><span class="p">,</span> <span class="s2">&quot;n&quot;</span><span class="p">],</span>
<span class="p">}</span>

<span class="n">model_version_names</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;2015-07-21&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;2015-10-20-p1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;prod4-v0.0&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;prod4-v0.1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;2018-02-16&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;prod3_compatible&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;p3&quot;</span><span class="p">,</span> <span class="s2">&quot;prod3&quot;</span><span class="p">,</span> <span class="s2">&quot;prod3b&quot;</span><span class="p">],</span>
    <span class="s2">&quot;prod4&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;p4&quot;</span><span class="p">],</span>
    <span class="s2">&quot;post_prod3_updates&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;2016-12-20&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;2018-11-07&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;2019-02-22&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;2019-05-13&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;2019-11-20&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;2019-12-30&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;2020-02-26&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;2020-06-28&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;prod5&quot;</span><span class="p">],</span>
    <span class="s2">&quot;2024-02-01&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;prod6&quot;</span><span class="p">],</span>
    <span class="s2">&quot;prod4-prototype&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="p">[],</span>
    <span class="s2">&quot;Released&quot;</span><span class="p">:</span> <span class="p">[],</span>
    <span class="s2">&quot;Latest&quot;</span><span class="p">:</span> <span class="p">[],</span>
<span class="p">}</span>

<span class="n">array_layout_names</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;4LST&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;4-lst&quot;</span><span class="p">,</span> <span class="s2">&quot;4lst&quot;</span><span class="p">],</span>
    <span class="s2">&quot;1LST&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;1-lst&quot;</span><span class="p">,</span> <span class="s2">&quot;1lst&quot;</span><span class="p">],</span>
    <span class="s2">&quot;4MST&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;4-mst&quot;</span><span class="p">,</span> <span class="s2">&quot;4mst&quot;</span><span class="p">],</span>
    <span class="s2">&quot;1MST&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;1-mst&quot;</span><span class="p">,</span> <span class="s2">&quot;mst&quot;</span><span class="p">],</span>
    <span class="s2">&quot;4SST&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;4-sst&quot;</span><span class="p">,</span> <span class="s2">&quot;4sst&quot;</span><span class="p">],</span>
    <span class="s2">&quot;1SST&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;1-sst&quot;</span><span class="p">,</span> <span class="s2">&quot;sst&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Prod5&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;prod5&quot;</span><span class="p">,</span> <span class="s2">&quot;p5&quot;</span><span class="p">],</span>
    <span class="s2">&quot;TestLayout&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;test-layout&quot;</span><span class="p">],</span>
<span class="p">}</span>

<span class="c1"># TODO - this is temporary</span>
<span class="c1"># List of site parameters which are not part of the simtel configuration</span>
<span class="c1"># or which have different naming in the database and simtel configuration.</span>
<span class="c1"># simtel: True if this is a simtel parameter (allows to give alternative &quot;name&quot;)</span>
<span class="n">site_parameters</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;reference_point_altitude&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;altitude&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;reference_point_longitude&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;ref_long&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;reference_point_latitude&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;ref_lat&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;reference_point_utm_north&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;reference_point_utm_north&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;reference_point_utm_east&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;reference_point_utm_east&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="c1"># Note naming inconsistency between old and new model</span>
    <span class="c1"># altitude was the corsika observation level in the old model</span>
    <span class="s2">&quot;corsika_observation_level&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;altitude&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s2">&quot;epsg_code&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;epsg_code&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;geomag_horizontal&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;geomag_horizontal&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;geomag_vertical&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;geomag_vertical&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;geomag_rotation&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;geomag_rotation&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;array_coordinates&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;array_coordinates&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;atmospheric_profile&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;atmospheric_profile&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="c1"># TODO Duplication of old names; requires renaming in DB</span>
    <span class="s2">&quot;magnetic_field&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;magnetic_field&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;EPSG&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;EPSG&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;ref_long&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;ref_long&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;ref_lat&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;ref_lat&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;nsb_reference_value&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;nsb_reference_value&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
<span class="p">}</span>

<span class="c1"># TODO - this is temporary</span>
<span class="c1"># List of telescope parameters which are not part of the simtel configuration</span>
<span class="c1"># or which has a different name in the simtel configuration.</span>
<span class="n">telescope_parameters</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;telescope_axis_height&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;telescope_axis_height&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;telescope_sphere_radius&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;telescope_sphere_radius&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;pixel_shape&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;pixel_shape&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;pixel_diameter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;pixel_diameter&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;lightguide_efficiency_vs_incident_angle&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;lightguide_efficiency_vs_incident_angle&quot;</span><span class="p">,</span>
        <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;lightguide_efficiency_vs_wavelength&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;lightguide_efficiency_vs_wavelength&quot;</span><span class="p">,</span>
        <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;mirror_panel_shape&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;mirror_panel_shape&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;mirror_panel_diameter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;mirror_panel_diameter&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;asum_shaping&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;asum_shaping_file&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s2">&quot;dsum_shaping&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;dsum_shaping_file&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s2">&quot;nsb_pixel_rate&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;nsb_pixel_rate&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;nsb_reference_value&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;nsb_reference_value&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;primary_mirror_diameter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;primary_diameter&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s2">&quot;primary_mirror_degraded_map&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;primary_degraded_map&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s2">&quot;primary_mirror_hole_diameter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;primary_hole_diameter&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s2">&quot;primary_mirror_ref_radius&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;primary_ref_radius&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s2">&quot;primary_mirror_segmentation&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;primary_segmentation&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s2">&quot;secondary_mirror_baffle&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;secondary_baffle&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s2">&quot;secondary_mirror_degraded_map&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;secondary_degraded_map&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s2">&quot;secondary_mirror_degraded_reflection&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;mirror2_degraded_reflection&quot;</span><span class="p">,</span>
        <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;secondary_mirror_diameter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;secondary_diameter&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s2">&quot;secondary_mirror_hole_diameter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;secondary_hole_diameter&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s2">&quot;secondary_mirror_ref_radius&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;secondary_ref_radius&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s2">&quot;secondary_mirror_reflectivity&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;mirror_secondary_reflectivity&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s2">&quot;secondary_mirror_segmentation&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;secondary_segmentation&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s2">&quot;secondary_mirror_shadow_diameter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;secondary_shadow_diameter&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s2">&quot;secondary_mirror_shadow_offset&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;secondary_shadow_offset&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s2">&quot;camera_filter_incidence_angle&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;camera_filter_incidence_angle&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;camera_window_incidence_angle&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;camera_window_incidence_angle&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;optics_properties&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;optics_properties&quot;</span><span class="p">,</span> <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="s2">&quot;primary_mirror_incidence_angle&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;primary_mirror_incidence_angle&quot;</span><span class="p">,</span>
        <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;secondary_mirror_incidence_angle&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;db_name&quot;</span><span class="p">:</span> <span class="s2">&quot;secondary_mirror_incidence_angle&quot;</span><span class="p">,</span>
        <span class="s2">&quot;simtel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>


<div class="viewcode-block" id="validate_telescope_id_name">
<a class="viewcode-back" href="../../utils.html#utils.names.validate_telescope_id_name">[docs]</a>
<span class="k">def</span> <span class="nf">validate_telescope_id_name</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validate telescope ID. Allowed IDs are</span>
<span class="sd">    - design (for design telescopes or testing)</span>
<span class="sd">    - telescope ID (e.g., 1, 5, 15)</span>
<span class="sd">    - test (for testing)</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name: str or int</span>
<span class="sd">        Telescope ID name.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        Validated telescope ID (added leading zeros, e.g., 1 is converted to 01).</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError</span>
<span class="sd">        If name is not valid.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">name</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;design&quot;</span><span class="p">,</span> <span class="s2">&quot;test&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

    <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Invalid telescope ID name </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></div>



<div class="viewcode-block" id="validate_model_version_name">
<a class="viewcode-back" href="../../utils.html#utils.names.validate_model_version_name">[docs]</a>
<span class="k">def</span> <span class="nf">validate_model_version_name</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validate model version name.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name: str</span>
<span class="sd">        Model version name.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        Validated name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_validate_name</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">model_version_names</span><span class="p">)</span></div>



<div class="viewcode-block" id="validate_site_name">
<a class="viewcode-back" href="../../utils.html#utils.names.validate_site_name">[docs]</a>
<span class="k">def</span> <span class="nf">validate_site_name</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validate site name.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name: str</span>
<span class="sd">        Site name.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        Validated name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_validate_name</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">site_names</span><span class="p">)</span></div>



<div class="viewcode-block" id="validate_array_layout_name">
<a class="viewcode-back" href="../../utils.html#utils.names.validate_array_layout_name">[docs]</a>
<span class="k">def</span> <span class="nf">validate_array_layout_name</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validate array layout name.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name: str</span>
<span class="sd">        Layout array name.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        Validated name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_validate_name</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">array_layout_names</span><span class="p">)</span></div>



<span class="k">def</span> <span class="nf">_validate_name</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">all_names</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validate name given the all_names options. For each key in all_names, a list of options is \</span>
<span class="sd">    given. If name is in this list, the key name is returned.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name: str</span>
<span class="sd">        Name to validate.</span>
<span class="sd">    all_names: dict</span>
<span class="sd">        Dictionary with valid names.</span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        Validated name.</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError</span>
<span class="sd">        If name is not valid.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">all_names</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">all_names</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">item</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">all_names</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="p">]:</span>
            <span class="k">return</span> <span class="n">key</span>
        <span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">key</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">key</span>

    <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Invalid name </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>


<div class="viewcode-block" id="validate_telescope_name">
<a class="viewcode-back" href="../../utils.html#utils.names.validate_telescope_name">[docs]</a>
<span class="k">def</span> <span class="nf">validate_telescope_name</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validate telescope name (e.g., MSTN-design, MSTN-01).</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name: str</span>
<span class="sd">        Telescope name.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        Validated name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">_tel_type</span><span class="p">,</span> <span class="n">_tel_id</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Invalid name </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="n">_validate_name</span><span class="p">(</span><span class="n">_tel_type</span><span class="p">,</span> <span class="n">array_element_names</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="n">validate_telescope_id_name</span><span class="p">(</span><span class="n">_tel_id</span><span class="p">)</span>
    <span class="p">)</span></div>



<span class="k">def</span> <span class="nf">get_telescope_name_from_type_site_id</span><span class="p">(</span><span class="n">telescope_type</span><span class="p">,</span> <span class="n">site</span><span class="p">,</span> <span class="n">telescope_id</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get telescope name from type, site and ID.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    telescope_type: str</span>
<span class="sd">        Telescope type.</span>
<span class="sd">    site: str</span>
<span class="sd">        Site name.</span>
<span class="sd">    telescope_id: str</span>
<span class="sd">        Telescope ID.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        Telescope name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_short_site</span> <span class="o">=</span> <span class="n">validate_site_name</span><span class="p">(</span><span class="n">site</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">_val_id</span> <span class="o">=</span> <span class="n">validate_telescope_id_name</span><span class="p">(</span><span class="n">telescope_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">telescope_type</span><span class="si">}{</span><span class="n">_short_site</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">_val_id</span><span class="si">}</span><span class="s2">&quot;</span>


<div class="viewcode-block" id="get_telescope_type_from_telescope_name">
<a class="viewcode-back" href="../../utils.html#utils.names.get_telescope_type_from_telescope_name">[docs]</a>
<span class="k">def</span> <span class="nf">get_telescope_type_from_telescope_name</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get telescope type from name, e.g. &quot;LSTN&quot;, &quot;MSTN&quot;.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    telescope_name: str</span>
<span class="sd">        Telescope name</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        Telescope type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_validate_name</span><span class="p">(</span><span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="n">array_element_names</span><span class="p">)</span></div>



<span class="k">def</span> <span class="nf">get_list_of_telescope_types</span><span class="p">(</span><span class="n">array_element_class</span><span class="o">=</span><span class="s2">&quot;telescope&quot;</span><span class="p">,</span> <span class="n">site</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">observatory</span><span class="o">=</span><span class="s2">&quot;CTAO&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get list of telescope types.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    array_element_class: str</span>
<span class="sd">        Array element class</span>
<span class="sd">    site: str</span>
<span class="sd">        Site name (e.g., South or North).</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list</span>
<span class="sd">        List of telescope types.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">key</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">array_element_names</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="s2">&quot;class&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">array_element_class</span>
        <span class="ow">and</span> <span class="p">(</span><span class="n">site</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">value</span><span class="p">[</span><span class="s2">&quot;site&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">site</span><span class="p">)</span>
        <span class="ow">and</span> <span class="p">(</span><span class="n">observatory</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">value</span><span class="p">[</span><span class="s2">&quot;observatory&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">observatory</span><span class="p">)</span>
    <span class="p">]</span>


<div class="viewcode-block" id="get_site_from_telescope_name">
<a class="viewcode-back" href="../../utils.html#utils.names.get_site_from_telescope_name">[docs]</a>
<span class="k">def</span> <span class="nf">get_site_from_telescope_name</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get site name from telescope name.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name: str</span>
<span class="sd">        Telescope name.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        Site name (South or North).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">array_element_names</span><span class="p">[</span><span class="n">get_telescope_type_from_telescope_name</span><span class="p">(</span><span class="n">name</span><span class="p">)][</span><span class="s2">&quot;site&quot;</span><span class="p">]</span></div>



<span class="k">def</span> <span class="nf">get_class_from_telescope_name</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get class (e.g., telescope, calibration) of array element from name</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name: str</span>
<span class="sd">        Telescope name.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        Class name.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">array_element_names</span><span class="p">[</span><span class="n">get_telescope_type_from_telescope_name</span><span class="p">(</span><span class="n">name</span><span class="p">)][</span><span class="s2">&quot;class&quot;</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">get_simtel_name_from_parameter_name</span><span class="p">(</span>
    <span class="n">par_name</span><span class="p">,</span> <span class="n">search_telescope_parameters</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">search_site_parameters</span><span class="o">=</span><span class="kc">True</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the simtel parameter name from the model parameter name.</span>
<span class="sd">    Assumes that both names are equal if not defined otherwise in names.py</span>
<span class="sd">    Returns the model parameter name if no simtel name is found.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    par_name: str</span>
<span class="sd">        Model parameter name.</span>
<span class="sd">    search_telescope_parameters: bool</span>
<span class="sd">        If True, telescope model parameters are included.</span>
<span class="sd">    search_site_parameters: bool</span>
<span class="sd">        If True, site model parameters are included.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        Simtel parameter name.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_parameter_names</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">search_telescope_parameters</span><span class="p">:</span>
        <span class="n">_parameter_names</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">telescope_parameters</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">search_site_parameters</span><span class="p">:</span>
        <span class="n">_parameter_names</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">site_parameters</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">_parameter_names</span><span class="p">[</span><span class="n">par_name</span><span class="p">][</span><span class="s2">&quot;db_name&quot;</span><span class="p">]</span> <span class="k">if</span> <span class="n">_parameter_names</span><span class="p">[</span><span class="n">par_name</span><span class="p">][</span><span class="s2">&quot;simtel&quot;</span><span class="p">]</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">return</span> <span class="n">par_name</span>


<span class="k">def</span> <span class="nf">get_parameter_name_from_simtel_name</span><span class="p">(</span><span class="n">simtel_name</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the model parameter name from the simtel parameter name.</span>
<span class="sd">    Assumes that both names are equal if not defined otherwise in names.py.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    simtel_name: str</span>
<span class="sd">        Simtel parameter name.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        Model parameter name.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_parameter_names</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">telescope_parameters</span><span class="p">,</span> <span class="o">**</span><span class="n">site_parameters</span><span class="p">}</span>

    <span class="k">for</span> <span class="n">par_name</span><span class="p">,</span> <span class="n">par_info</span> <span class="ow">in</span> <span class="n">_parameter_names</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">par_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;db_name&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">simtel_name</span> <span class="ow">and</span> <span class="n">par_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;simtel&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">par_name</span>
    <span class="k">return</span> <span class="n">simtel_name</span>


<div class="viewcode-block" id="simtel_config_file_name">
<a class="viewcode-back" href="../../utils.html#utils.names.simtel_config_file_name">[docs]</a>
<span class="k">def</span> <span class="nf">simtel_config_file_name</span><span class="p">(</span>
    <span class="n">site</span><span class="p">,</span>
    <span class="n">model_version</span><span class="p">,</span>
    <span class="n">array_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">telescope_model_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">extra_label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    sim_telarray config file name for a telescope.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    site: str</span>
<span class="sd">        South or North.</span>
<span class="sd">    telescope_model_name: str</span>
<span class="sd">        LST-1, MST-FlashCam, ...</span>
<span class="sd">    model_version: str</span>
<span class="sd">        Version of the model.</span>
<span class="sd">    label: str</span>
<span class="sd">        Instance label.</span>
<span class="sd">    extra_label: str</span>
<span class="sd">        Extra label in case of multiple telescope config files.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        File name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;CTA&quot;</span>
    <span class="n">name</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;-</span><span class="si">{</span><span class="n">array_name</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">array_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
    <span class="n">name</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;-</span><span class="si">{</span><span class="n">site</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">name</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;-</span><span class="si">{</span><span class="n">telescope_model_name</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">telescope_model_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
    <span class="n">name</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;-</span><span class="si">{</span><span class="n">model_version</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">name</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;_</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
    <span class="n">name</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;_</span><span class="si">{</span><span class="n">extra_label</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">extra_label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
    <span class="n">name</span> <span class="o">+=</span> <span class="s2">&quot;.cfg&quot;</span>
    <span class="k">return</span> <span class="n">name</span></div>



<div class="viewcode-block" id="simtel_single_mirror_list_file_name">
<a class="viewcode-back" href="../../utils.html#utils.names.simtel_single_mirror_list_file_name">[docs]</a>
<span class="k">def</span> <span class="nf">simtel_single_mirror_list_file_name</span><span class="p">(</span>
    <span class="n">site</span><span class="p">,</span> <span class="n">telescope_model_name</span><span class="p">,</span> <span class="n">model_version</span><span class="p">,</span> <span class="n">mirror_number</span><span class="p">,</span> <span class="n">label</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    sim_telarray mirror list file with a single mirror.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    site: str</span>
<span class="sd">        South or North.</span>
<span class="sd">    telescope_model_name: str</span>
<span class="sd">        North-LST-1, South-MST-FlashCam, ...</span>
<span class="sd">    model_version: str</span>
<span class="sd">        Version of the model.</span>
<span class="sd">    mirror_number: int</span>
<span class="sd">        Mirror number.</span>
<span class="sd">    label: str</span>
<span class="sd">        Instance label.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        File name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;CTA-single-mirror-list-</span><span class="si">{</span><span class="n">site</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">telescope_model_name</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">model_version</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">name</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;-mirror</span><span class="si">{</span><span class="n">mirror_number</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">name</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;_</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
    <span class="n">name</span> <span class="o">+=</span> <span class="s2">&quot;.dat&quot;</span>
    <span class="k">return</span> <span class="n">name</span></div>



<div class="viewcode-block" id="layout_telescope_list_file_name">
<a class="viewcode-back" href="../../utils.html#utils.names.layout_telescope_list_file_name">[docs]</a>
<span class="k">def</span> <span class="nf">layout_telescope_list_file_name</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    File name for files required at the RayTracing class.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name: str</span>
<span class="sd">        Name of the array.</span>
<span class="sd">    label: str</span>
<span class="sd">        Instance label.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        File name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">file_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;telescope_positions-</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">file_name</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;_</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
    <span class="n">file_name</span> <span class="o">+=</span> <span class="s2">&quot;.ecsv&quot;</span>
    <span class="k">return</span> <span class="n">file_name</span></div>



<div class="viewcode-block" id="generate_file_name">
<a class="viewcode-back" href="../../utils.html#utils.names.generate_file_name">[docs]</a>
<span class="k">def</span> <span class="nf">generate_file_name</span><span class="p">(</span>
    <span class="n">file_type</span><span class="p">,</span>
    <span class="n">suffix</span><span class="p">,</span>
    <span class="n">site</span><span class="p">,</span>
    <span class="n">telescope_model_name</span><span class="p">,</span>
    <span class="n">zenith_angle</span><span class="p">,</span>
    <span class="n">azimuth_angle</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">off_axis_angle</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">source_distance</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">mirror_number</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">extra_label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate a file name for output, config, or plotting.</span>
<span class="sd">    Used e.g., to generate camera-efficiency and ray-tracing output files.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    file_type: str</span>
<span class="sd">        Type of file (e.g., config, output, plot)</span>
<span class="sd">    suffix: str</span>
<span class="sd">        File suffix</span>
<span class="sd">    site: str</span>
<span class="sd">        South or North.</span>
<span class="sd">    telescope_model_name: str</span>
<span class="sd">        LSTN-01, MSTS-01, ...</span>
<span class="sd">    zenith_angle: float</span>
<span class="sd">        Zenith angle (deg).</span>
<span class="sd">    azimuth_angle: float</span>
<span class="sd">        Azimuth angle (deg).</span>
<span class="sd">    off_axis_angle: float</span>
<span class="sd">        Off-axis angle (deg).</span>
<span class="sd">    source_distance: float</span>
<span class="sd">        Source distance (km).</span>
<span class="sd">    mirror_number: int</span>
<span class="sd">        Mirror number.</span>
<span class="sd">    label: str</span>
<span class="sd">        Instance label.</span>
<span class="sd">    extra_label: str</span>
<span class="sd">        Extra label.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        File name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">file_type</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">site</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">telescope_model_name</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">name</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;-d</span><span class="si">{</span><span class="n">source_distance</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">km&quot;</span> <span class="k">if</span> <span class="n">source_distance</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
    <span class="n">name</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;-za</span><span class="si">{</span><span class="nb">float</span><span class="p">(</span><span class="n">zenith_angle</span><span class="p">)</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">deg&quot;</span>
    <span class="n">name</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;-off</span><span class="si">{</span><span class="n">off_axis_angle</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">deg&quot;</span> <span class="k">if</span> <span class="n">off_axis_angle</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
    <span class="n">name</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;_azm</span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">azimuth_angle</span><span class="p">)</span><span class="si">:</span><span class="s2">03</span><span class="si">}</span><span class="s2">deg&quot;</span> <span class="k">if</span> <span class="n">azimuth_angle</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
    <span class="n">name</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;_mirror</span><span class="si">{</span><span class="n">mirror_number</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">mirror_number</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
    <span class="n">name</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;_</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
    <span class="n">name</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;_</span><span class="si">{</span><span class="n">extra_label</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">extra_label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
    <span class="n">name</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">suffix</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">return</span> <span class="n">name</span></div>



<div class="viewcode-block" id="sanitize_name">
<a class="viewcode-back" href="../../utils.html#utils.names.sanitize_name">[docs]</a>
<span class="k">def</span> <span class="nf">sanitize_name</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sanitize name to be a valid Python identifier.</span>

<span class="sd">    - Replaces spaces with underscores</span>
<span class="sd">    - Converts to lowercase</span>
<span class="sd">    - Removes characters that are not alphanumerics or underscores</span>
<span class="sd">    - If the name starts with a number, prepend an underscore</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name: str</span>
<span class="sd">        name to be sanitized.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str:</span>
<span class="sd">        Sanitized name.</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError:</span>
<span class="sd">        if the string `name` can not be sanitized.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Convert to lowercase</span>
    <span class="n">sanitized</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

    <span class="c1"># Replace spaces with underscores</span>
    <span class="n">sanitized</span> <span class="o">=</span> <span class="n">sanitized</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span>

    <span class="c1"># Remove characters that are not alphanumerics or underscores</span>
    <span class="n">sanitized</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\W|^(?=\d)&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="n">sanitized</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">sanitized</span><span class="o">.</span><span class="n">isidentifier</span><span class="p">():</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;The string </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> could not be sanitized.&quot;</span>
        <span class="n">_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">ValueError</span>
    <span class="k">return</span> <span class="n">sanitized</span></div>

</pre></div>

          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      
      
    </div>

    

    
  </body>
</html>