<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Layout &#8212; simtools v0.1.dev1+g57655c3</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=a66d8bb5" />
    <link rel="stylesheet" type="text/css" href="_static/simtools.css" />
    <script src="_static/jquery.js?v=5d32c60e"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="_static/documentation_options.js?v=49bd4a52"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="MC Model" href="mc_model.html" />
    <link rel="prev" title="Job execution and submission" href="job_execution.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">simtools</a></h1>



<p class="blurb">Simulation Tools for CTA v0.1.dev1+g57655c3</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=gammasim&repo=simtools&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="simtools-configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="applications.html">Applications</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="library.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="camera_efficiency.html">Camera Efficiency</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration_module.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="corsika.html">CORSIKA</a></li>
<li class="toctree-l2"><a class="reference internal" href="corsika_simtel.html">CORSIKA and sim_telarray</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_model.html">Data Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="db_handler.html">Database support</a></li>
<li class="toctree-l2"><a class="reference internal" href="io_operations.html">I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="job_execution.html">Job execution and submission</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="mc_model.html">MC Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="psf_analysis.html">PSF Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="ray_tracing.html">Ray Tracing</a></li>
<li class="toctree-l2"><a class="reference internal" href="sim_telarray.html">sim_telarray</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulators.html">Simulator</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualization.html">Visualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="auxiliary_files.html">Auxiliary Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="databases.html">Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="simulation_software.html">Simulation Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_guidelines.html">Developer Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="pull_requests.html">Pull requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="coding_guidelines.html">Coding Guidelines</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="library.html">API</a><ul>
      <li>Previous: <a href="job_execution.html" title="previous chapter">Job execution and submission</a></li>
      <li>Next: <a href="mc_model.html" title="next chapter">MC Model</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/array_layout.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="layout">
<span id="id1"></span><h1>Layout<a class="headerlink" href="#layout" title="Link to this heading"></a></h1>
<p>The Layout Array module deals with the telescope positions and coordinate transformations.
It is used within CORSIKA Config and Array Model in order to encapsulate the information about the telescope positions.</p>
<section id="module-layout.array_layout">
<span id="array-layout"></span><span id="layoutarraymodule"></span><h2>array_layout<a class="headerlink" href="#module-layout.array_layout" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="layout.array_layout.ArrayLayout">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">layout.array_layout.</span></span><span class="sig-name descname"><span class="pre">ArrayLayout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mongo_db_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_version</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">telescope_list_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">telescope_list_metadata_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/array_layout.html#ArrayLayout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.array_layout.ArrayLayout" title="Link to this definition"></a></dt>
<dd><p>Manage telescope positions at the array layout level.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>mongo_db_config: dict</strong></dt><dd><p>MongoDB configuration.</p>
</dd>
<dt><strong>site: str</strong></dt><dd><p>Site name or location (e.g., North/South or LaPalma/Paranal)</p>
</dd>
<dt><strong>model_version: str</strong></dt><dd><p>Version of the model (e.g., prod6).</p>
</dd>
<dt><strong>label: str</strong></dt><dd><p>Instance label.</p>
</dd>
<dt><strong>name: str</strong></dt><dd><p>Name of the layout.</p>
</dd>
<dt><strong>telescope_list_file: str or Path</strong></dt><dd><p>Path to the telescope list file.</p>
</dd>
<dt><strong>telescope_list_metadata_file: str or Path</strong></dt><dd><p>Path to telescope list metadata (if not part of telescope_list_file)</p>
</dd>
<dt><strong>validate: bool</strong></dt><dd><p>Validate input file list.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="layout.array_layout.ArrayLayout.add_telescope">
<span class="sig-name descname"><span class="pre">add_telescope</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">telescope_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">altitude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tel_corsika_z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/array_layout.html#ArrayLayout.add_telescope"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.array_layout.ArrayLayout.add_telescope" title="Link to this definition"></a></dt>
<dd><p>Add an individual telescope to the telescope list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>telescope_name: str</strong></dt><dd><p>Name of the telescope starting with L, M or S (e.g. LST-01, MST-06 …)</p>
</dd>
<dt><strong>crs_name: str</strong></dt><dd><p>Name of coordinate system</p>
</dd>
<dt><strong>xx: astropy.units.quantity.Quantity</strong></dt><dd><p>x-coordinate for the given coordinate system</p>
</dd>
<dt><strong>yy: astropy.units.quantity.Quantity</strong></dt><dd><p>y-coordinate for the given coordinate system</p>
</dd>
<dt><strong>altitude: astropy.units.quantity.Quantity</strong></dt><dd><p>Altitude coordinate in equivalent units of u.m.</p>
</dd>
<dt><strong>tel_corsika_z: astropy.units.quantity.Quantity</strong></dt><dd><p>CORSIKA z-position (requires setting of CORSIKA observation level and telescope sphere            center).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.array_layout.ArrayLayout.convert_coordinates">
<span class="sig-name descname"><span class="pre">convert_coordinates</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/array_layout.html#ArrayLayout.convert_coordinates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.array_layout.ArrayLayout.convert_coordinates" title="Link to this definition"></a></dt>
<dd><p>Perform all the possible conversions the coordinates of the tel positions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.array_layout.ArrayLayout.export_telescope_list_table">
<span class="sig-name descname"><span class="pre">export_telescope_list_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/array_layout.html#ArrayLayout.export_telescope_list_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.array_layout.ArrayLayout.export_telescope_list_table" title="Link to this definition"></a></dt>
<dd><p>Export array elements positions to astropy table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>crs_name: str</strong></dt><dd><p>Name of coordinate system to be used for export.</p>
</dd>
<dt><strong>corsika_z: bool</strong></dt><dd><p>Write telescope height in CORSIKA coordinates (for CORSIKA system).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>astropy.table.QTable</dt><dd><p>Astropy table with the telescope layout information.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.array_layout.ArrayLayout.from_array_layout_name">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_array_layout_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mongo_db_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">array_layout_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_version</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/array_layout.html#ArrayLayout.from_array_layout_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.array_layout.ArrayLayout.from_array_layout_name" title="Link to this definition"></a></dt>
<dd><p>Read telescope list from file for given layout name (e.g. South-4LST, North-Prod5, …).
Layout definitions are given in the <code class="xref py py-obj docutils literal notranslate"><span class="pre">data/layout</span></code> path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>mongo_db_config: dict</strong></dt><dd><p>MongoDB configuration.</p>
</dd>
<dt><strong>array_layout_name: str</strong></dt><dd><p>e.g. South-4LST, North-Prod5 …</p>
</dd>
<dt><strong>model_version: str</strong></dt><dd><p>Version of the model (e.g., prod6).</p>
</dd>
<dt><strong>label: str</strong></dt><dd><p>Instance label. Important for output file naming.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>ArrayLayout</dt><dd><p>Instance of the ArrayLayout.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.array_layout.ArrayLayout.get_corsika_input_list">
<span class="sig-name descname"><span class="pre">get_corsika_input_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/array_layout.html#ArrayLayout.get_corsika_input_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.array_layout.ArrayLayout.get_corsika_input_list" title="Link to this definition"></a></dt>
<dd><p>Get a string with the piece of text to be added to the CORSIKA input file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>str</dt><dd><p>Piece of text to be added to the CORSIKA input file.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.array_layout.ArrayLayout.get_number_of_telescopes">
<span class="sig-name descname"><span class="pre">get_number_of_telescopes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/array_layout.html#ArrayLayout.get_number_of_telescopes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.array_layout.ArrayLayout.get_number_of_telescopes" title="Link to this definition"></a></dt>
<dd><p>Return the number of telescopes in the list.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>int</dt><dd><p>Number of telescopes.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.array_layout.ArrayLayout.print_telescope_list">
<span class="sig-name descname"><span class="pre">print_telescope_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/array_layout.html#ArrayLayout.print_telescope_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.array_layout.ArrayLayout.print_telescope_list" title="Link to this definition"></a></dt>
<dd><p>Print list of telescopes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>crs_name: str</strong></dt><dd><p>Name of coordinate system to be used for export.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.array_layout.ArrayLayout.select_assets">
<span class="sig-name descname"><span class="pre">select_assets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/array_layout.html#ArrayLayout.select_assets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.array_layout.ArrayLayout.select_assets" title="Link to this definition"></a></dt>
<dd><p>Select a subsets of telescopes / assets from the layout.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>asset_list: list</strong></dt><dd><p>List of assets to be selected (telescope names or types)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>ValueError</dt><dd><p>If the asset list is empty.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="layout.array_layout.InvalidTelescopeListFile">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">layout.array_layout.</span></span><span class="sig-name descname"><span class="pre">InvalidTelescopeListFile</span></span><a class="reference internal" href="_modules/layout/array_layout.html#InvalidTelescopeListFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.array_layout.InvalidTelescopeListFile" title="Link to this definition"></a></dt>
<dd><p>Exception for invalid telescope list file.</p>
</dd></dl>

</section>
<section id="module-layout.telescope_position">
<span id="telescope-position"></span><span id="telescopedatamodule"></span><h2>telescope_position<a class="headerlink" href="#module-layout.telescope_position" title="Link to this heading"></a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="layout.telescope_position.InvalidCoordSystem">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">layout.telescope_position.</span></span><span class="sig-name descname"><span class="pre">InvalidCoordSystem</span></span><a class="reference internal" href="_modules/layout/telescope_position.html#InvalidCoordSystem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.InvalidCoordSystem" title="Link to this definition"></a></dt>
<dd><p>Exception for invalid coordinate system.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">layout.telescope_position.</span></span><span class="sig-name descname"><span class="pre">TelescopePosition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/telescope_position.html#TelescopePosition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.TelescopePosition" title="Link to this definition"></a></dt>
<dd><p>Store a telescope position and perform coordinate transformations.</p>
<p>The definition of x_coord and y_coord in this class depend on the     coordinate system (e.g., (x_coord, y_coord) == (UTM_east, UTM_north)).     Altitude describes always the element height above sea level, position_z
the height above a reference altitude (e.g., CORSIKA observation level).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>name: str</strong></dt><dd><p>Name of the telescope (e.g LSTN-01, SSTS-05, …).</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.convert_all">
<span class="sig-name descname"><span class="pre">convert_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs_local</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs_wgs84</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs_utm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/telescope_position.html#TelescopePosition.convert_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.TelescopePosition.convert_all" title="Link to this definition"></a></dt>
<dd><p>Perform conversions and fill coordinate variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>crs_local: pyproj.crs.crs.CRS</strong></dt><dd><p>Pyproj CRS of the local coordinate system.</p>
</dd>
<dt><strong>crs_wgs84: pyproj.crs.crs.CRS</strong></dt><dd><p>Pyproj CRS of the mercator coordinate system.</p>
</dd>
<dt><strong>crs_utm: pyproj.crs.crs.CRS</strong></dt><dd><p>Pyproj CRS of the utm coordinate system.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.convert_telescope_altitude_from_corsika_system">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">convert_telescope_altitude_from_corsika_system</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tel_corsika_z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corsika_observation_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">telescope_axis_height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#layout.telescope_position.TelescopePosition.convert_telescope_altitude_from_corsika_system" title="Link to this definition"></a></dt>
<dd><p>Convert Corsika (pos_z) to altitude.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>tel_corsika_z: astropy.Quantity</strong></dt><dd><p>Telescope z-position in CORSIKA system in equivalent units of meter.</p>
</dd>
<dt><strong>corsika_observation_level: astropy.Quantity</strong></dt><dd><p>CORSIKA observation level in equivalent units of meter.</p>
</dd>
<dt><strong>telescope_axis_height: astropy.Quantity</strong></dt><dd><p>Height of telescope elevation axis above ground level in equivalent units of meter.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>astropy.units.m</dt><dd><p>Telescope altitude (above sea level)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.convert_telescope_altitude_to_corsika_system">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">convert_telescope_altitude_to_corsika_system</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tel_altitude</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corsika_observation_level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">telescope_axis_height</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#layout.telescope_position.TelescopePosition.convert_telescope_altitude_to_corsika_system" title="Link to this definition"></a></dt>
<dd><p>Convert telescope altitude to CORSIKA system (pos_z).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>tel_altitude: astropy.Quantity</strong></dt><dd><p>Telescope altitude in equivalent units of meter.</p>
</dd>
<dt><strong>corsika_ob_level: astropy.Quantity</strong></dt><dd><p>CORSIKA observation level in equivalent units of meter.</p>
</dd>
<dt><strong>telescope_axis_height: astropy.Quantity</strong></dt><dd><p>Height of telescope elevation axis above ground level in equivalent units of meter.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>astropy.units.m</dt><dd><p>Z-position of a telescope in CORSIKA system.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.get_altitude">
<span class="sig-name descname"><span class="pre">get_altitude</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/telescope_position.html#TelescopePosition.get_altitude"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.TelescopePosition.get_altitude" title="Link to this definition"></a></dt>
<dd><p>”
Get altitude of an array element</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>astropy.Quantity</dt><dd><p>telescope altitude.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.get_axis_height">
<span class="sig-name descname"><span class="pre">get_axis_height</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/telescope_position.html#TelescopePosition.get_axis_height"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.TelescopePosition.get_axis_height" title="Link to this definition"></a></dt>
<dd><p>Get telescope axis height.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>astropy.quantity</dt><dd><p>Telescope axis height.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.get_coordinates">
<span class="sig-name descname"><span class="pre">get_coordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinate_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/telescope_position.html#TelescopePosition.get_coordinates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.TelescopePosition.get_coordinates" title="Link to this definition"></a></dt>
<dd><p>Get coordinates in a given coordinate system.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>crs_name: str</strong></dt><dd><p>name of coordinate system.</p>
</dd>
<dt><strong>coordinate_field: str</strong></dt><dd><p>return specified field of coordinate descriptor.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>x, y, z coordinate including corresponding unit (or coordinate field). If coordinate_field         is None, returns value x unit.</dt><dd></dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>InvalidCoordSystem</dt><dd><p>if coordinate system is not defined</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.get_sphere_radius">
<span class="sig-name descname"><span class="pre">get_sphere_radius</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/telescope_position.html#TelescopePosition.get_sphere_radius"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.TelescopePosition.get_sphere_radius" title="Link to this definition"></a></dt>
<dd><p>Get telescope sphere radius.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>astropy.quantity</dt><dd><p>Telescope sphere radius</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.has_altitude">
<span class="sig-name descname"><span class="pre">has_altitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/telescope_position.html#TelescopePosition.has_altitude"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.TelescopePosition.has_altitude" title="Link to this definition"></a></dt>
<dd><p>Return True if array element has altitude defined.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>crs_name: str</strong></dt><dd><p>Name of coordinate system to be checked for altitude. If None: check if altitude is             define for any system.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>bool</dt><dd><p>array element has altitude defined.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>InvalidCoordSystem</dt><dd><p>If coordinate system is not known</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.has_coordinates">
<span class="sig-name descname"><span class="pre">has_coordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs_check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/telescope_position.html#TelescopePosition.has_coordinates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.TelescopePosition.has_coordinates" title="Link to this definition"></a></dt>
<dd><p>Check if coordinates are set for a given coordinate system.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>bool</dt><dd><p>True if coordinate system is defined.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>InvalidCoordSystem</dt><dd><p>If coordinate system is not known.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>crs_name: str</strong></dt><dd><p>Name of coordinate system.</p>
</dd>
<dt><strong>crs_check: bool</strong></dt><dd><p>Check that projection system is defined.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.is_coordinate_system">
<span class="sig-name descname"><span class="pre">is_coordinate_system</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/telescope_position.html#TelescopePosition.is_coordinate_system"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.TelescopePosition.is_coordinate_system" title="Link to this definition"></a></dt>
<dd><p>Check if crs_name describes a coordinate system or auxiliary information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>crs_name: str</strong></dt><dd><p>Name of coordinate system.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>bool</dt><dd><p>True if coordinate system is defined.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>InvalidCoordSystem</dt><dd><p>If coordinate system is not known.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.print_compact_format">
<span class="sig-name descname"><span class="pre">print_compact_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corsika_observation_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/telescope_position.html#TelescopePosition.print_compact_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.TelescopePosition.print_compact_format" title="Link to this definition"></a></dt>
<dd><p>Print array element coordinates in compact format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>crs_name: str</strong></dt><dd><p>Name of coordinate system to be used for printing.</p>
</dd>
<dt><strong>print_header: bool</strong></dt><dd><p>Print table header.</p>
</dd>
<dt><strong>corsika_observation_level: astropy.Quantity</strong></dt><dd><p>CORSIKA observation level in equivalent units of meter.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>InvalidCoordSystem</dt><dd><p>if coordinate system is not defined.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.set_altitude">
<span class="sig-name descname"><span class="pre">set_altitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tel_altitude</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/telescope_position.html#TelescopePosition.set_altitude"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.TelescopePosition.set_altitude" title="Link to this definition"></a></dt>
<dd><p>Set altitude of an array element. Assume that all coordinate system have same altitude         definition, meaning altitude is set for all systems here.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>tel_altitude: astropy.Quantity</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.set_auxiliary_parameter">
<span class="sig-name descname"><span class="pre">set_auxiliary_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameter_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quantity</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/telescope_position.html#TelescopePosition.set_auxiliary_parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.TelescopePosition.set_auxiliary_parameter" title="Link to this definition"></a></dt>
<dd><p>Set auxiliary parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>parameter_name: str</strong></dt><dd><p>Name of parameter.</p>
</dd>
<dt><strong>quantity: astropy.units.Quantity</strong></dt><dd><p>Quantity of parameter.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.set_coordinates">
<span class="sig-name descname"><span class="pre">set_coordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/telescope_position.html#TelescopePosition.set_coordinates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.TelescopePosition.set_coordinates" title="Link to this definition"></a></dt>
<dd><p>Set coordinates of an array element.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>InvalidCoordSystem</dt><dd><p>If coordinate system is not known.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>crs_name: str</strong></dt><dd><p>Name of coordinate system.</p>
</dd>
<dt><strong>xx: float</strong></dt><dd><p>x-coordinate.</p>
</dd>
<dt><strong>yy: float</strong></dt><dd><p>y-coordinate.</p>
</dd>
<dt><strong>zz: float</strong></dt><dd><p>z-coordinate (altitude).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-layout.geo_coordinates">
<span id="geo-coordinates"></span><span id="geocoordinatesmodule"></span><h2>geo_coordinates<a class="headerlink" href="#module-layout.geo_coordinates" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="layout.geo_coordinates.GeoCoordinates">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">layout.geo_coordinates.</span></span><span class="sig-name descname"><span class="pre">GeoCoordinates</span></span><a class="reference internal" href="_modules/layout/geo_coordinates.html#GeoCoordinates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.geo_coordinates.GeoCoordinates" title="Link to this definition"></a></dt>
<dd><p>Geospatial Coordinate systems.
Defines UTM, WGS84 and ground (sim_telarray) coordinate systems.</p>
<dl class="py method">
<dt class="sig sig-object py" id="layout.geo_coordinates.GeoCoordinates.crs_local">
<span class="sig-name descname"><span class="pre">crs_local</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reference_point</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/geo_coordinates.html#GeoCoordinates.crs_local"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.geo_coordinates.GeoCoordinates.crs_local" title="Link to this definition"></a></dt>
<dd><p>Local coordinate system definition.
This is a cartesian coordinate system with the origin at the array center.
X-axis points towards geographic North, y-axis towards geographic West.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>reference_point: simtools.layout.telescope_position</strong></dt><dd><p>Reference coordinate.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>pyproj.CRS</dt><dd><p>local coordinate system.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.geo_coordinates.GeoCoordinates.crs_utm">
<span class="sig-name descname"><span class="pre">crs_utm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">epsg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/geo_coordinates.html#GeoCoordinates.crs_utm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.geo_coordinates.GeoCoordinates.crs_utm" title="Link to this definition"></a></dt>
<dd><p>UTM coordinate system definition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>epsg: int</strong></dt><dd><p>EPSG code for UTM zone.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>pyproj.CRS</dt><dd><p>UTM coordinate system.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.geo_coordinates.GeoCoordinates.crs_wgs84">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">crs_wgs84</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/geo_coordinates.html#GeoCoordinates.crs_wgs84"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.geo_coordinates.GeoCoordinates.crs_wgs84" title="Link to this definition"></a></dt>
<dd><p>WGS84 coordinate system definition.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>pyproj.CRS</dt><dd><p>WGS84 coordinate system.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      
      
      
      <a href="_sources/array_layout.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>