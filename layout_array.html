<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Layout &#8212; simtools v0.1.dev1+g8cdf421</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=4f649999" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=28c8e701" />
    <link rel="stylesheet" type="text/css" href="_static/simtools.css" />
    <script src="_static/documentation_options.js?v=8c5e2ad4"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="MC Model" href="mc_model.html" />
    <link rel="prev" title="Job execution and submission" href="job_execution.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">simtools</a></h1>



<p class="blurb">Simulation Tools for CTA v0.1.dev1+g8cdf421</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=gammasim&repo=simtools&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="simtools-configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="applications.html">Applications</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="library.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="camera_efficiency.html">Camera Efficiency</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration_module.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="corsika.html">CORSIKA</a></li>
<li class="toctree-l2"><a class="reference internal" href="corsika_simtel.html">CORSIKA and sim_telarray</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_model.html">Data Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="db_handler.html">Database support</a></li>
<li class="toctree-l2"><a class="reference internal" href="io_handler.html">I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="job_execution.html">Job execution and submission</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="mc_model.html">MC Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="psf_analysis.html">PSF Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="ray_tracing.html">Ray Tracing</a></li>
<li class="toctree-l2"><a class="reference internal" href="sim_telarray.html">sim_telarray</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulators.html">Simulator</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualization.html">Visualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="auxiliary_files.html">Auxiliary Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="databases.html">Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="simulation_software.html">Simulation Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_guidelines.html">Developer Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="pull_requests.html">Pull requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="coding_guidelines.html">Coding Guidelines</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="library.html">API</a><ul>
      <li>Previous: <a href="job_execution.html" title="previous chapter">Job execution and submission</a></li>
      <li>Next: <a href="mc_model.html" title="next chapter">MC Model</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/layout_array.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="layout">
<span id="id1"></span><h1>Layout<a class="headerlink" href="#layout" title="Link to this heading">¶</a></h1>
<p>The Layout Array module deals with the telescope positions and coordinate transformations.
It is used within CORSIKA Config and Array Model in order to encapsulate the information about the telescope positions.</p>
<section id="module-layout.layout_array">
<span id="layout-array"></span><span id="layoutarraymodule"></span><h2>layout_array<a class="headerlink" href="#module-layout.layout_array" title="Link to this heading">¶</a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="layout.layout_array.InvalidTelescopeListFile">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">layout.layout_array.</span></span><span class="sig-name descname"><span class="pre">InvalidTelescopeListFile</span></span><a class="reference internal" href="_modules/layout/layout_array.html#InvalidTelescopeListFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.layout_array.InvalidTelescopeListFile" title="Link to this definition">¶</a></dt>
<dd><p>Exception for invalid telescope list file.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="layout.layout_array.LayoutArray">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">layout.layout_array.</span></span><span class="sig-name descname"><span class="pre">LayoutArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mongo_db_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layout_center_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corsika_telescope_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">telescope_list_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/layout_array.html#LayoutArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.layout_array.LayoutArray" title="Link to this definition">¶</a></dt>
<dd><p>Manage telescope positions at the array layout level.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>mongo_db_config: dict</strong></dt><dd><p>MongoDB configuration.</p>
</dd>
<dt><strong>site: str</strong></dt><dd><p>Site name or location (e.g., North/South or LaPalma/Paranal)</p>
</dd>
<dt><strong>label: str</strong></dt><dd><p>Instance label.</p>
</dd>
<dt><strong>name: str</strong></dt><dd><p>Name of the layout.</p>
</dd>
<dt><strong>layout_center_data: dict</strong></dt><dd><p>Dict describing array center coordinates.</p>
</dd>
<dt><strong>corsika_telescope_data: dict</strong></dt><dd><p>Dict describing CORSIKA telescope parameters.</p>
</dd>
<dt><strong>telescope_list_file: str or Path</strong></dt><dd><p>Path to the telescope list file.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="layout.layout_array.LayoutArray.add_telescope">
<span class="sig-name descname"><span class="pre">add_telescope</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">telescope_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">altitude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tel_corsika_z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/layout_array.html#LayoutArray.add_telescope"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.layout_array.LayoutArray.add_telescope" title="Link to this definition">¶</a></dt>
<dd><p>Add an individual telescope to the telescope list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>telescope_name: str</strong></dt><dd><p>Name of the telescope starting with L, M or S (e.g. LST-01, MST-06 …)</p>
</dd>
<dt><strong>crs_name: str</strong></dt><dd><p>Name of coordinate system</p>
</dd>
<dt><strong>xx: astropy.units.quantity.Quantity</strong></dt><dd><p>x-coordinate for the given coordinate system</p>
</dd>
<dt><strong>yy: astropy.units.quantity.Quantity</strong></dt><dd><p>y-coordinate for the given coordinate system</p>
</dd>
<dt><strong>altitude: astropy.units.quantity.Quantity</strong></dt><dd><p>Altitude coordinate in equivalent units of u.m.</p>
</dd>
<dt><strong>tel_corsika_z: astropy.units.quantity.Quantity</strong></dt><dd><p>CORSIKA z-position (requires setting of CORSIKA observation level and telescope sphere            center).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.layout_array.LayoutArray.convert_coordinates">
<span class="sig-name descname"><span class="pre">convert_coordinates</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/layout_array.html#LayoutArray.convert_coordinates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.layout_array.LayoutArray.convert_coordinates" title="Link to this definition">¶</a></dt>
<dd><p>Perform all the possible conversions the coordinates of the tel positions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.layout_array.LayoutArray.export_telescope_list">
<span class="sig-name descname"><span class="pre">export_telescope_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corsika_z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/layout_array.html#LayoutArray.export_telescope_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.layout_array.LayoutArray.export_telescope_list" title="Link to this definition">¶</a></dt>
<dd><p>Export array elements positions to ECSV file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>crs_name: str</strong></dt><dd><p>Name of coordinate system to be used for export.</p>
</dd>
<dt><strong>corsika_z: bool</strong></dt><dd><p>Write telescope height in CORSIKA coordinates (for CORSIKA system).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.layout_array.LayoutArray.from_layout_array_name">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_layout_array_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mongo_db_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layout_array_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/layout_array.html#LayoutArray.from_layout_array_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.layout_array.LayoutArray.from_layout_array_name" title="Link to this definition">¶</a></dt>
<dd><p>Read telescope list from file for given layout name (e.g. South-4LST, North-Prod5, …).
Layout definitions are given in the <code class="xref py py-obj docutils literal notranslate"><span class="pre">data/layout</span></code> path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>mongo_db_config: dict</strong></dt><dd><p>MongoDB configuration.</p>
</dd>
<dt><strong>layout_array_name: str</strong></dt><dd><p>e.g. South-4LST, North-Prod5 …</p>
</dd>
<dt><strong>label: str</strong></dt><dd><p>Instance label. Important for output file naming.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>LayoutArray</dt><dd><p>Instance of the LayoutArray.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.layout_array.LayoutArray.get_corsika_input_list">
<span class="sig-name descname"><span class="pre">get_corsika_input_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/layout_array.html#LayoutArray.get_corsika_input_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.layout_array.LayoutArray.get_corsika_input_list" title="Link to this definition">¶</a></dt>
<dd><p>Get a string with the piece of text to be added to the CORSIKA input file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>str</dt><dd><p>Piece of text to be added to the CORSIKA input file.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>KeyError</dt><dd><p>if Missing definition of CORSIKA sphere radius or obs_level.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.layout_array.LayoutArray.get_number_of_telescopes">
<span class="sig-name descname"><span class="pre">get_number_of_telescopes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/layout_array.html#LayoutArray.get_number_of_telescopes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.layout_array.LayoutArray.get_number_of_telescopes" title="Link to this definition">¶</a></dt>
<dd><p>Return the number of telescopes in the list.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>int</dt><dd><p>Number of telescopes.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.layout_array.LayoutArray.include_radius_into_telescope_table">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">include_radius_into_telescope_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">telescope_table</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/layout_array.html#LayoutArray.include_radius_into_telescope_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.layout_array.LayoutArray.include_radius_into_telescope_table" title="Link to this definition">¶</a></dt>
<dd><p>Include the radius of the telescopes types into the astropy.table.QTable telescopes_table</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>telescope_table: astropy.QTable</strong></dt><dd><p>Astropy QTable with telescope information.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>astropy.QTable</dt><dd><p>Astropy QTable with telescope information updated with the radius.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.layout_array.LayoutArray.initialize_layout_array_from_telescope_file">
<span class="sig-name descname"><span class="pre">initialize_layout_array_from_telescope_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">telescope_list_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/layout_array.html#LayoutArray.initialize_layout_array_from_telescope_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.layout_array.LayoutArray.initialize_layout_array_from_telescope_file" title="Link to this definition">¶</a></dt>
<dd><p>Initialize the Layout array from a telescope list file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>telescope_list_file: str or Path</strong></dt><dd><p>Path to the telescope list file.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.layout_array.LayoutArray.print_telescope_list">
<span class="sig-name descname"><span class="pre">print_telescope_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">compact_printing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corsika_z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/layout_array.html#LayoutArray.print_telescope_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.layout_array.LayoutArray.print_telescope_list" title="Link to this definition">¶</a></dt>
<dd><p>Print list of telescopes in current layout.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>compact_printing: str</strong></dt><dd><p>Compact printout for a single coordinate system.</p>
</dd>
<dt><strong>corsika_z: bool</strong></dt><dd><p>Print telescope height in CORSIKA coordinates (for CORSIKA system).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.layout_array.LayoutArray.read_telescope_list_file">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_telescope_list_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">telescope_list_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/layout_array.html#LayoutArray.read_telescope_list_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.layout_array.LayoutArray.read_telescope_list_file" title="Link to this definition">¶</a></dt>
<dd><p>Read list of telescopes from a ecsv file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>telescope_list_file: str or Path</strong></dt><dd><p>Path to the telescope list file.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>astropy.QTable</dt><dd><p>Astropy table with the telescope layout information.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>FileNotFoundError</dt><dd><p>If file cannot be opened.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.layout_array.LayoutArray.select_assets">
<span class="sig-name descname"><span class="pre">select_assets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/layout_array.html#LayoutArray.select_assets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.layout_array.LayoutArray.select_assets" title="Link to this definition">¶</a></dt>
<dd><p>Select a subsets of telescopes / assets from the layout.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>asset_list: list</strong></dt><dd><p>List of assets to be selected.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>ValueError</dt><dd><p>If the asset list is empty.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-layout.telescope_position">
<span id="telescope-position"></span><span id="telescopedatamodule"></span><h2>telescope_position<a class="headerlink" href="#module-layout.telescope_position" title="Link to this heading">¶</a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="layout.telescope_position.InvalidCoordSystem">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">layout.telescope_position.</span></span><span class="sig-name descname"><span class="pre">InvalidCoordSystem</span></span><a class="reference internal" href="_modules/layout/telescope_position.html#InvalidCoordSystem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.InvalidCoordSystem" title="Link to this definition">¶</a></dt>
<dd><p>Exception for invalid coordinate system.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">layout.telescope_position.</span></span><span class="sig-name descname"><span class="pre">TelescopePosition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/telescope_position.html#TelescopePosition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.TelescopePosition" title="Link to this definition">¶</a></dt>
<dd><p>Store and perform coordinate transformations for an array element position.</p>
<p>The definition of x_coord and y_coord in this class depend on the     coordinate system (e.g., (x_coord, y_coord) == (UTM_east, UTM_north)).     Altitude describes always the element height above sea level.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>name: str</strong></dt><dd><p>Name of the telescope (e.g LST-01, SST-05, …).</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.convert_all">
<span class="sig-name descname"><span class="pre">convert_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs_local</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs_wgs84</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs_utm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/telescope_position.html#TelescopePosition.convert_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.TelescopePosition.convert_all" title="Link to this definition">¶</a></dt>
<dd><p>Perform conversions and fill coordinate variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>crs_local: pyproj.crs.crs.CRS</strong></dt><dd><p>Pyproj CRS of the local coordinate system.</p>
</dd>
<dt><strong>crs_wgs84: pyproj.crs.crs.CRS</strong></dt><dd><p>Pyproj CRS of the mercator coordinate system.</p>
</dd>
<dt><strong>crs_utm: pyproj.crs.crs.CRS</strong></dt><dd><p>Pyproj CRS of the utm coordinate system.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.convert_telescope_altitude_from_corsika_system">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">convert_telescope_altitude_from_corsika_system</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tel_corsika_z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corsika_obs_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corsika_sphere_center</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#layout.telescope_position.TelescopePosition.convert_telescope_altitude_from_corsika_system" title="Link to this definition">¶</a></dt>
<dd><p>Convert Corsika (pos_z) to altitude.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>tel_corsika_z: astropy.Quantity</strong></dt><dd><p>Telescope z-position in CORSIKA system in equivalent units of meter.</p>
</dd>
<dt><strong>corsika_ob_level: astropy.Quantity</strong></dt><dd><p>CORSIKA observation level in equivalent units of meter.</p>
</dd>
<dt><strong>corsika_sphere_center: astropy.Quantity</strong></dt><dd><p>CORSIKA sphere center in equivalent units of meter.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>astropy.units.m</dt><dd><p>Telescope altitude (above sea level)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.convert_telescope_altitude_to_corsika_system">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">convert_telescope_altitude_to_corsika_system</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tel_altitude</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corsika_obs_level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corsika_sphere_center</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#layout.telescope_position.TelescopePosition.convert_telescope_altitude_to_corsika_system" title="Link to this definition">¶</a></dt>
<dd><p>Convert telescope altitude to CORSIKA system (pos_z).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>tel_altitude: astropy.Quantity</strong></dt><dd><p>Telescope altitude in equivalent units of meter.</p>
</dd>
<dt><strong>corsika_ob_level: astropy.Quantity</strong></dt><dd><p>CORSIKA observation level in equivalent units of meter.</p>
</dd>
<dt><strong>corsika_sphere_center: astropy.Quantity</strong></dt><dd><p>CORSIKA sphere center in equivalent units of meter.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>astropy.units.m</dt><dd><p>Z-position of a telescope in CORSIKA system.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.get_altitude">
<span class="sig-name descname"><span class="pre">get_altitude</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/telescope_position.html#TelescopePosition.get_altitude"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.TelescopePosition.get_altitude" title="Link to this definition">¶</a></dt>
<dd><p>”
Get altitude of an array element</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>astropy.Quantity</dt><dd><p>telescope altitude.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.get_coordinates">
<span class="sig-name descname"><span class="pre">get_coordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinate_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/telescope_position.html#TelescopePosition.get_coordinates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.TelescopePosition.get_coordinates" title="Link to this definition">¶</a></dt>
<dd><p>Get coordinates in a given coordinate system.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>crs_name: str</strong></dt><dd><p>name of coordinate system.</p>
</dd>
<dt><strong>coordinate_field: str</strong></dt><dd><p>return specified field of coordinate descriptor.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>x, y, z coordinate including corresponding unit (or coordinate field). If coordinate_field         is None, returns value x unit.</dt><dd></dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>InvalidCoordSystem</dt><dd><p>if coordinate system is not defined</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.has_altitude">
<span class="sig-name descname"><span class="pre">has_altitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/telescope_position.html#TelescopePosition.has_altitude"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.TelescopePosition.has_altitude" title="Link to this definition">¶</a></dt>
<dd><p>Return True if array element has altitude defined.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>crs_name: str</strong></dt><dd><p>Name of coordinate system to be checked for altitude. If None: check if altitude is             define for any system.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>bool</dt><dd><p>array element has altitude defined.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>InvalidCoordSystem</dt><dd><p>If coordinate system is not known</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.has_coordinates">
<span class="sig-name descname"><span class="pre">has_coordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs_check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/telescope_position.html#TelescopePosition.has_coordinates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.TelescopePosition.has_coordinates" title="Link to this definition">¶</a></dt>
<dd><p>Check if coordinates are set for a given coordinate system.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>bool</dt><dd><p>True if coordinate system is defined.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>InvalidCoordSystem</dt><dd><p>If coordinate system is not known.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>crs_name: str</strong></dt><dd><p>Name of coordinate system.</p>
</dd>
<dt><strong>crs_check: bool</strong></dt><dd><p>Check that projection system is defined.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.print_compact_format">
<span class="sig-name descname"><span class="pre">print_compact_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corsika_obs_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corsika_sphere_center</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/telescope_position.html#TelescopePosition.print_compact_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.TelescopePosition.print_compact_format" title="Link to this definition">¶</a></dt>
<dd><p>Print array element coordinates in compact format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>crs_name: str</strong></dt><dd><p>Name of coordinate system to be used for printing.</p>
</dd>
<dt><strong>print_header: bool</strong></dt><dd><p>Print table header.</p>
</dd>
<dt><strong>corsika_obs_level: astropy.Quantity</strong></dt><dd><p>CORSIKA observation level in equivalent units of meter.</p>
</dd>
<dt><strong>corsika_sphere_center: astropy.Quantity</strong></dt><dd><p>CORSIKA sphere center in equivalent units of meter.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>InvalidCoordSystem</dt><dd><p>if coordinate system is not defined.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.set_altitude">
<span class="sig-name descname"><span class="pre">set_altitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tel_altitude</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/telescope_position.html#TelescopePosition.set_altitude"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.TelescopePosition.set_altitude" title="Link to this definition">¶</a></dt>
<dd><p>Set altitude of an array element. Assume that all coordinate system have same altitude         definition, meaning altitude is set for all systems here.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>tel_altitude: astropy.Quantity</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.telescope_position.TelescopePosition.set_coordinates">
<span class="sig-name descname"><span class="pre">set_coordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/telescope_position.html#TelescopePosition.set_coordinates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.telescope_position.TelescopePosition.set_coordinates" title="Link to this definition">¶</a></dt>
<dd><p>Set coordinates of an array element.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>InvalidCoordSystem</dt><dd><p>If coordinate system is not known.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>crs_name: str</strong></dt><dd><p>Name of coordinate system.</p>
</dd>
<dt><strong>xx: float</strong></dt><dd><p>x-coordinate.</p>
</dd>
<dt><strong>yy: float</strong></dt><dd><p>y-coordinate.</p>
</dd>
<dt><strong>zz: float</strong></dt><dd><p>z-coordinate (altitude).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-layout.geo_coordinates">
<span id="geo-coordinates"></span><span id="geocoordinatesmodule"></span><h2>geo_coordinates<a class="headerlink" href="#module-layout.geo_coordinates" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="layout.geo_coordinates.GeoCoordinates">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">layout.geo_coordinates.</span></span><span class="sig-name descname"><span class="pre">GeoCoordinates</span></span><a class="reference internal" href="_modules/layout/geo_coordinates.html#GeoCoordinates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.geo_coordinates.GeoCoordinates" title="Link to this definition">¶</a></dt>
<dd><p>Geospatial Coordinate systems.
Defines UTM, WGS84 and local (CORSIKA) coordinate systems.</p>
<dl class="py method">
<dt class="sig sig-object py" id="layout.geo_coordinates.GeoCoordinates.crs_local">
<span class="sig-name descname"><span class="pre">crs_local</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reference_point</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/geo_coordinates.html#GeoCoordinates.crs_local"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.geo_coordinates.GeoCoordinates.crs_local" title="Link to this definition">¶</a></dt>
<dd><p>Local coordinate system definition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>reference_point: simtools.layout.telescope_position</strong></dt><dd><p>Reference coordinate.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>pyproj.CRS</dt><dd><p>local coordinate system.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.geo_coordinates.GeoCoordinates.crs_utm">
<span class="sig-name descname"><span class="pre">crs_utm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">epsg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/geo_coordinates.html#GeoCoordinates.crs_utm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.geo_coordinates.GeoCoordinates.crs_utm" title="Link to this definition">¶</a></dt>
<dd><p>UTM coordinate system definition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>epsg: int</strong></dt><dd><p>EPSG code for UTM zone.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>pyproj.CRS</dt><dd><p>UTM coordinate system.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="layout.geo_coordinates.GeoCoordinates.crs_wgs84">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">crs_wgs84</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/layout/geo_coordinates.html#GeoCoordinates.crs_wgs84"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#layout.geo_coordinates.GeoCoordinates.crs_wgs84" title="Link to this definition">¶</a></dt>
<dd><p>WGS84 coordinate system definition.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>pyproj.CRS</dt><dd><p>WGS84 coordinate system.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      
      
      
      <a href="_sources/layout_array.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>