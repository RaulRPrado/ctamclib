Improve primary particle API and validate consistency of user input.
